!function(){"use strict";class e{constructor(e,t,r,s,i){this._name=e.name,this._link=e.link,this._cardId=e._id,this._cardSelector=t,this._handlePreviewImage=r,this._prepareDelete=s,this._api=i}_setEventListeners(){this._deleteButton.addEventListener("click",(()=>{this._prepareDelete(this)})),this._likeButton.addEventListener("click",(()=>{this._handleLikeIcon()})),this._cardImage.addEventListener("click",(()=>{this._handlePreviewImage(this._cardElement)}))}_getTemplate(){return document.querySelector(this._cardSelector).content.firstElementChild.cloneNode(!0)}_toggleLikeIcon(){this._likeButton.classList.toggle("card__like-button_active")}handleDeleteCard(){this._cardElement.remove()}_handleLikeIcon(){this._likeButton.classList.contains("card__like-button_active")?this._api.deleteLikeApi(this._cardId).then((()=>{this._toggleLikeIcon()})).catch((e=>Promise.reject(`${e}`))):this._api.addLikeApi(this._cardId).then((()=>{this._toggleLikeIcon()})).catch((e=>Promise.reject(`${e}`)))}generateCard(){return this._cardElement=this._getTemplate(),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardElement.querySelector(".card__image").src=this._link,this._cardElement.querySelector(".card__text").textContent=this._name,this._setEventListeners(),this._cardElement}}class t{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formEl=t,this._inputList=[...this._formEl.querySelectorAll(this._inputSelector)],this._submitBtn=this._formEl.querySelector(this._submitButtonSelector)}_setEventListeners(){this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}_toggleButtonState(){this._hasValidInput(this._inputList)?this._enableButton():this._disableButton()}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_enableButton(){this._hasValidInput([...this._inputList])&&(this._submitBtn.classList.remove(this._inactiveButtonClass),this._submitBtn.disabled=!1)}_disableButton(){this._submitBtn.classList.add(this._inactiveButtonClass),this._submitBtn.disabled=!0}_showInputError(e){this._errorEl=this._formEl.querySelector(`#${e.id}Error`),this._errorEl.textContent=e.validationMessage,this._errorEl.classList.add(this._errorClass)}_hideInputError(e){this._errorMessageEl=this._formEl.querySelector(`#${e.id}Error`),this._errorMessageEl.textContent="",this._errorMessageEl.classList.remove(this._errorClass)}_hasValidInput(){return this._inputList.every((e=>e.validity.valid))}enableValidation(){this._formEl.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}handleResetValidation(e){this._disableButton(),this._toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)})),!0===e&&this._formEl.reset()}}class r{constructor(e,t){let{items:r,renderer:s}=e;this._initialArray=r,this._renderer=s,this._container=document.querySelector(t)}renderItems(){this._initialArray.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}class s{constructor(e){this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}setEventListeners(){this._popup.addEventListener("click",(e=>{(e.target.classList.contains("modal__close")||e.target.classList.contains("modal_opened"))&&this.close()}))}open(){this._popup.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}}class i extends s{constructor(e){let{popupSelector:t,handleFormSubmit:r}=e;super(t),this._handleFormSubmit=r,this._submitBtn=this._popup.querySelector(".modal__form").querySelector(".modal__submit")}setEventListeners(){this._popup.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues(),this.instance,this.id),this._popup.querySelector(".modal__form").reset()})),super.setEventListeners()}open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.instance=e,this.id=t,super.open()}renderLoading(e){this._submitBtn.textContent=e?"Saving...":"Save"}_getInputValues(){return this._inputList=this._popup.querySelectorAll(".modal__input"),this._formValues={},this._inputList.forEach((e=>{this._formValues[e.name]=e.value})),this._formValues}}const n=document.forms.avatarEditForm,a=document.forms.profileEditForm,o=document.forms.cardEditForm,l=(document.forms.cardDeleteForm,document.querySelector("#profile-image-edit-button")),c=document.querySelector("#profile-edit-button"),d=document.querySelector("#card-edit-button"),h=(document.querySelectorAll("#card-delete-button"),{nameInput:a.querySelector("#nameInput"),aboutInput:a.querySelector("#aboutInput"),avatarInput:n.querySelector("#avatarInput"),curAvatar:document.querySelector(".profile__image-pic"),curName:document.querySelector(".profile__title"),curAbout:document.querySelector(".profile__about")}),u={};let _,m,p,b;const E=e=>{const t=document.querySelector(".modal_opened").id,r={profileModal:()=>{let t={newName:e.nameInput,newAbout:e.aboutInput};return g.editUserApi(t.newName,t.newAbout).then((e=>p=e)).catch((e=>Promise.reject(`broken call from index57: ${e}`)))},avatarModal:()=>{let t={newAvatar:e.avatarInput};return g.editAvatarApi(t.newAvatar).then((e=>b=e)).catch((e=>Promise.reject(`broken call from index70: ${e}`)))}}[t];if(!r)throw new Error(`No handler defined for modal type: ${t}`);return r()},v=t=>{const r=new e(t,"#card-instance-template",I,q,g).generateCard();return _.addItem(r),r},g=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}_checkResponse(e,t){return e.ok?e.json():e.json().then((e=>"POST"===t?(console.error("Full error response:",e),Promise.reject(`Error: ${e.message}`)):"PATCH"===t?(console.error("Full error response:",e),Promise.reject(`Error: ${e.errors[Object.keys(e.errors)[0]].message}`)):(console.error("Full error response:",e),Promise.reject(`Error: ${e}`))))}apiPromiseAll(){return Promise.all([this.getUserApi(),this.getInitialCards()]).then((e=>e)).catch((e=>{console.error(e),alert("Sorry, something went wrong.")}))}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then((e=>this._checkResponse(e,"GET")))}getUserApi(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then((e=>this._checkResponse(e,"GET")))}editUserApi(e,t){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((e=>this._checkResponse(e,"PATCH")))}editAvatarApi(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((e=>this._checkResponse(e,"PATCH")))}addCardApi(e,t){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((e=>this._checkResponse(e,"POST")))}deleteCardApi(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then((e=>this._checkResponse(e,"DELETE")))}addLikeApi(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then((e=>this._checkResponse(e,"PUT")))}deleteLikeApi(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then((e=>this._checkResponse(e,"DELETE")))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"e315e92f-7d1b-43f2-b057-cdca1769e40c","Content-Type":"application/json"}}),S=new class{constructor(e){this._userObj=e,this._profileId=null}_getCurrentUser(){return{name:this._userObj.curName.textContent,about:this._userObj.curAbout.textContent,avatar:this._userObj.curAvatar.src}}setCurrentUser(e){let t=e.avatar||e.avatarInput,r=e.name||e.nameInput,s=e.about||e.aboutInput,i=e._id;return t&&(this._userObj.curAvatar.src=t),r&&(this._userObj.curName.textContent=r),s&&(this._userObj.curAbout.textContent=s),i&&(this._profileId=i),{avatar:t,name:r,about:s,_id:i}}fillUserForm(){const e=this._getCurrentUser();this._userObj.nameInput.value=`${e.name}`,this._userObj.aboutInput.value=`${e.about}`}}(h);var L;g.apiPromiseAll().then((e=>{let[t,r]=e;return{initialUser:t,initialCards:r}})).then((e=>{const t=S.setCurrentUser(e.initialUser)._id;return m=e.initialUser,S.setCurrentUser(m),_=new r({items:e.initialCards,renderer:v},"#card-section-wrapper"),_.renderItems(),t})).catch((e=>{console.error(e),alert(`Server error: ${e}, please try again.`)})),L={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit",inactiveButtonClass:"modal__submit_inactive",inputErrorClass:"modal__error",errorClass:"modal__error_visible"},Array.from(document.querySelectorAll(L.formSelector)).forEach((e=>{const r=new t(L,e),s=e.getAttribute("name");u[s]=r,r.enableValidation()})),u[a.getAttribute("name")].enableValidation(),u[o.getAttribute("name")].enableValidation(),u[n.getAttribute("name")].enableValidation();const f=new class extends s{constructor(e){super(e),this._previewImage=this._popup.querySelector(".modal__image"),this._previewText=this._popup.querySelector(".modal__text")}open(e){let{name:t,link:r}=e;this._previewImage.src=r,this._previewImage.alt=t,this._previewText.textContent=t,super.open()}}("#cardDisplayModal"),y=new i({popupSelector:"#avatarModal",handleFormSubmit:e=>{y.renderLoading(!0),E(e).then((e=>{S.setCurrentUser(e),u[n.getAttribute("name")].handleResetValidation(!0),y.close(),y.renderLoading(!1)})).catch((e=>(console.error(e),y.renderLoading(!1),Promise.reject(`${e}`))))}}),C=new i({popupSelector:"#profileModal",handleFormSubmit:e=>{C.renderLoading(!0),E(e).then((e=>{S.setCurrentUser(e),u[a.getAttribute("name")].handleResetValidation(!0),C.close(),C.renderLoading(!1)})).catch((e=>{console.error(e),C.renderLoading(!1),alert(`${e}`)}))}}),k=new i({popupSelector:"#cardAddModal",handleFormSubmit:e=>{k.renderLoading(!0),g.addCardApi(e.cardTitle,e.imageUrl).then((e=>{v({name:e.name,link:e.link}),u[o.getAttribute("name")].handleResetValidation(!0),k.close(),k.renderLoading(!1)})).catch((e=>{console.error(e),k.renderLoading(!1),alert(`${e}`)}))}}),A=new i({popupSelector:"#cardDeleteModal",handleFormSubmit:(e,t,r)=>{g.deleteCardApi(r).then((()=>{t.handleDeleteCard(),A.close()})).catch((e=>{console.error(e),alert(`${e}`)}))}});function I(e){const t=e.querySelector(".card__text").textContent,r=e.querySelector(".card__image").src;f.open({name:t,link:r})}function q(e){const t=e._cardId;A.open(e,t)}f.setEventListeners(),C.setEventListeners(),y.setEventListeners(),k.setEventListeners(),A.setEventListeners(),l.addEventListener("click",(()=>{u[n.getAttribute("name")].handleResetValidation(!0),y.open()})),c.addEventListener("click",(()=>{S.fillUserForm(),u[a.getAttribute("name")].handleResetValidation(!1),C.open()})),d.addEventListener("click",(()=>{k.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFFBQVFDLE1BQU10SSxHQUNkK0ksTUFBTSxHQUFHL0ksSUFBTSxHQUNmLElBaUNSLFNBQVNwQyxFQUFtQmtPLEdBQzFCLE1BQU03TixFQUFPNk4sRUFBWTNNLGNBQWMsZUFBZW1CLFlBQ2hEbkMsRUFBTzJOLEVBQVkzTSxjQUFjLGdCQUFnQmtCLElBQ3ZENkssRUFBa0I5RyxLQUFLLENBQUVuRyxPQUFNRSxRQUNqQyxDQUVBLFNBQVNOLEVBQWM4SixHQUNyQixNQUFNa0UsRUFBU2xFLEVBQWF2SixRQUM1QnVOLEVBQWdCdkgsS0FBS3VELEVBQWNrRSxFQUNyQyxDQXBDQVgsRUFBa0JqSCxvQkFDbEJ1SCxFQUFpQnZILG9CQUNqQnFILEVBQWdCckgsb0JBQ2hCd0gsRUFBY3hILG9CQUNkMEgsRUFBZ0IxSCxvQkFFaEIyQixFQUFpQmhILGlCQUFpQixTQUFTLEtBQ3pDMEgsRUFBZWQsRUFBZXlGLGFBQWEsU0FBU3BJLHVCQUNsRCxHQUVGeUksRUFBZ0JsSCxNQUFNLElBR3hCeUIsRUFBa0JqSCxpQkFBaUIsU0FBUyxLQUMxQ2dMLEVBQVNXLGVBQ1RqRSxFQUFlWixFQUFnQnVGLGFBQWEsU0FBU3BJLHVCQUNuRCxHQUVGMkksRUFBaUJwSCxNQUFNLElBR3pCMEIsRUFBZWxILGlCQUFpQixTQUFTLEtBQ3ZDNk0sRUFBY3JILE1BQU0sRyIsInNvdXJjZXMiOlsid2VicGFjazovL0Fyb3VuZCB0aGUgVS5TLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9Bcm91bmQgdGhlIFUuUy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vQXJvdW5kIHRoZSBVLlMvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL0Fyb3VuZCB0aGUgVS5TLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vQXJvdW5kIHRoZSBVLlMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL0Fyb3VuZCB0aGUgVS5TLy4vc3JjL3V0aWxzL3V0aWxzLmpzIiwid2VicGFjazovL0Fyb3VuZCB0aGUgVS5TLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL0Fyb3VuZCB0aGUgVS5TLy4vc3JjL3V0aWxzL0FwaS5qcyIsIndlYnBhY2s6Ly9Bcm91bmQgdGhlIFUuUy8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL0Fyb3VuZCB0aGUgVS5TLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBkYXRhLFxyXG4gICAgY2FyZFNlbGVjdG9yLFxyXG4gICAgaGFuZGxlUHJldmlld0ltYWdlLFxyXG4gICAgcHJlcGFyZURlbGV0ZSxcclxuICAgIGFwaUluc3RhbmNlXHJcbiAgKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2NhcmRJZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlUHJldmlld0ltYWdlID0gaGFuZGxlUHJldmlld0ltYWdlO1xyXG4gICAgdGhpcy5fcHJlcGFyZURlbGV0ZSA9IHByZXBhcmVEZWxldGU7XHJcbiAgICB0aGlzLl9hcGkgPSBhcGlJbnN0YW5jZTtcclxuICB9XHJcblxyXG4gIC8vIExpc3RlbmVyc1xyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9wcmVwYXJlRGVsZXRlKHRoaXMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVMaWtlSWNvbigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZVByZXZpZXdJbWFnZSh0aGlzLl9jYXJkRWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIERPTSBNZXRob2RzXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LmZpcnN0RWxlbWVudENoaWxkLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIF90b2dnbGVMaWtlSWNvbigpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIC8vIEhhbmRsZXJzXHJcbiAgaGFuZGxlRGVsZXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUxpa2VJY29uKCkge1xyXG4gICAgaWYgKHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpKSB7XHJcbiAgICAgIHRoaXMuX2FwaVxyXG4gICAgICAgIC5kZWxldGVMaWtlQXBpKHRoaXMuX2NhcmRJZClcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl90b2dnbGVMaWtlSWNvbigpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgJHtlcnJ9YCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9hcGlcclxuICAgICAgICAuYWRkTGlrZUFwaSh0aGlzLl9jYXJkSWQpXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5fdG9nZ2xlTGlrZUljb24oKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYCR7ZXJyfWApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy9TRUNUSU9OIC0gUHVibGljIE1ldGhvZHNcclxuXHJcbiAgLy8gVUkgTWV0aG9kc1xyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIikuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGV4dFwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcblxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWwpIHtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XHJcblxyXG4gICAgdGhpcy5fZm9ybUVsID0gZm9ybUVsO1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IFsuLi50aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKV07XHJcbiAgICB0aGlzLl9zdWJtaXRCdG4gPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICAvL0xpc3RlbmVyc1xyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWwpID0+IHtcclxuICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGUpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIFVJIE1hbmlwdWxhdGlvblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICghdGhpcy5faGFzVmFsaWRJbnB1dCh0aGlzLl9pbnB1dExpc3QpKSB7XHJcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fZW5hYmxlQnV0dG9uKCk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpIHtcclxuICAgIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICB9XHJcblxyXG4gIF9lbmFibGVCdXR0b24oKSB7XHJcbiAgICBpZiAodGhpcy5faGFzVmFsaWRJbnB1dChbLi4udGhpcy5faW5wdXRMaXN0XSkpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnRuLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2Rpc2FibGVCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdG4uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ0bi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbCkge1xyXG4gICAgdGhpcy5fZXJyb3JFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfUVycm9yYCk7XHJcbiAgICB0aGlzLl9lcnJvckVsLnRleHRDb250ZW50ID0gaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIHRoaXMuX2Vycm9yRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKSB7XHJcbiAgICB0aGlzLl9lcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfUVycm9yYCk7XHJcbiAgICB0aGlzLl9lcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICB0aGlzLl9lcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgLy8gQ29uZGl0aW9uc1xyXG4gIF9oYXNWYWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5ldmVyeSgoaW5wdXRFbCkgPT4gaW5wdXRFbC52YWxpZGl0eS52YWxpZCk7XHJcbiAgfVxyXG5cclxuICAvLyBET00gTWFuaXB1bGF0aW9uXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIC8vIEhhbmRsZXJzXHJcbiAgaGFuZGxlUmVzZXRWYWxpZGF0aW9uKHNob3VsZFJlc2V0RmllbGRzKSB7XHJcbiAgICB0aGlzLl9kaXNhYmxlQnV0dG9uKCk7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWwpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICB9KTtcclxuICAgIGlmIChzaG91bGRSZXNldEZpZWxkcyA9PT0gdHJ1ZSkge1xyXG4gICAgICB0aGlzLl9mb3JtRWwucmVzZXQoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY2FyZFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pbml0aWFsQXJyYXkgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNhcmRTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX2luaXRpYWxBcnJheS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX19jbG9zZVwiKSB8fFxyXG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX29wZW5lZFwiKVxyXG4gICAgICApIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcblxyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9zdWJtaXRCdG4gPSB0aGlzLl9wb3B1cFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKVxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc3VibWl0XCIpO1xyXG4gICAgLy8gY3VycmVudGx5IGZpbmRzIGFuZCB1cGRhdGVzIGV2ZXJ5IG1vZGFsIGJ1dHRvbiwgbm90IHNwZWNpZmljIHRvIHRoaXMuX3BvcHVwP1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSwgdGhpcy5pbnN0YW5jZSwgdGhpcy5pZCk7XHJcbiAgICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIikucmVzZXQoKTtcclxuICAgIH0pO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIG9wZW4oaW5zdGFuY2VPcHQgPSBudWxsLCBpZE9wdCA9IG51bGwpIHtcclxuICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZU9wdDtcclxuICAgIHRoaXMuaWQgPSBpZE9wdDtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nKSB7XHJcbiAgICBpZiAoaXNMb2FkaW5nKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdG4udGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpO1xyXG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XHJcbiAgfVxyXG59XHJcbiIsIi8vIE90aGVyIGNvZGUsIHN1Y2ggYXMgdGhlIGFycmF5IG9mIGluaXRpYWwgY2FyZHMgYW5kIGFueSBjb25maWd1cmF0aW9uIG9iamVjdHMgeW91IGFyZSB1c2luZywgc2hvdWxkIGJlIG1vdmVkIHRvIGEgc2VwYXJhdGUgdXRpbHMvY29uc3RhbnRzLmpzIGZpbGUgYW5kIGltcG9ydGVkIGludG8gaW5kZXguanMuXHJcblxyXG4vLyBjcmVkaXQgaHR0cHM6Ly9hdmF0YXItcGxhY2Vob2xkZXIuaXJhbi5saWFyYS5ydW4vYXZhdGFycy9mZW1hbGVcclxuXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uU2V0dGluZ3MgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc3VibWl0XCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc3VibWl0X2luYWN0aXZlXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcclxufTtcclxuXHJcbi8vU0VDVElPTiAtIFZhcmlhYmxlc1xyXG5cclxuLy9XcmFwcGVyc1xyXG5leHBvcnQgY29uc3QgYXZhdGFyRWRpdEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcImF2YXRhckVkaXRGb3JtXCJdO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJwcm9maWxlRWRpdEZvcm1cIl07XHJcbmV4cG9ydCBjb25zdCBjYXJkRWRpdEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcImNhcmRFZGl0Rm9ybVwiXTtcclxuZXhwb3J0IGNvbnN0IGNhcmREZWxldGVGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJjYXJkRGVsZXRlRm9ybVwiXTtcclxuXHJcbi8vIEJ1dHRvbnMgYW5kIERPTSBOb2Rlc1xyXG5leHBvcnQgY29uc3QgYXZhdGFyRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIjcHJvZmlsZS1pbWFnZS1lZGl0LWJ1dHRvblwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLWVkaXQtYnV0dG9uXCIpO1xyXG5leHBvcnQgY29uc3QgY2FyZERlbGV0ZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gIFwiI2NhcmQtZGVsZXRlLWJ1dHRvblwiXHJcbik7XHJcblxyXG5leHBvcnQgY29uc3QgdXNlck5vZGVzID0ge1xyXG4gIC8vIGNvbGxlY3RzIERPTSBOb2RlcyBmb3IgUHJvZmlsZSBTZWN0aW9uICgrIF9pZClcclxuICBuYW1lSW5wdXQ6IHByb2ZpbGVFZGl0Rm9ybS5xdWVyeVNlbGVjdG9yKFwiI25hbWVJbnB1dFwiKSxcclxuICBhYm91dElucHV0OiBwcm9maWxlRWRpdEZvcm0ucXVlcnlTZWxlY3RvcihcIiNhYm91dElucHV0XCIpLFxyXG4gIGF2YXRhcklucHV0OiBhdmF0YXJFZGl0Rm9ybS5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhcklucHV0XCIpLFxyXG4gIGN1ckF2YXRhcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZS1waWNcIiksXHJcbiAgY3VyTmFtZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX190aXRsZVwiKSxcclxuICBjdXJBYm91dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hYm91dFwiKSxcclxufTtcclxuIiwiLy8gd2hlbiBjYWxsaW5nIGEgbWV0aG9kIG9uIGFwaSwgeW91IGFyZSBleHBlY3RpbmcgaXQgdG8gcmV0dXJuIGEgcHJvbWlzZSB5b3UgY2FuIGNoYWluIC50aGVuIHRvXHJcbi8vIC50aGVuIGlzIHdoYXQgeW91IGRvIG9uIHRoZSBwYWdlIG9uY2UgdGhlIHJlc3BvbnNlIHdhcyBzdWNjZXNzZnVsXHJcbi8vRklYTUUgLSBURVNUIEFMTCAtIGNoZWNrIHRoZSBsaWtlL2Rpc2xpa2UgYnV0dG9uIG9uIGNhcmRzXHJcblxyXG4vL1NFQ1RJT04gLSBJbXBvcnRzXHJcblxyXG4vLyBXZWJwYWNrXHJcbmltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xyXG5cclxuLy8gQ2xhc3Nlc1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi91dGlscy9BcGkuanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcblxyXG4vLyBDb25zdGFudHNcclxuXHJcbmltcG9ydCB7XHJcbiAgdmFsaWRhdGlvblNldHRpbmdzLFxyXG4gIHVzZXJOb2RlcyxcclxuICBhdmF0YXJFZGl0Rm9ybSxcclxuICBwcm9maWxlRWRpdEZvcm0sXHJcbiAgY2FyZEVkaXRGb3JtLFxyXG4gIGF2YXRhckVkaXRCdXR0b24sXHJcbiAgcHJvZmlsZUVkaXRCdXR0b24sXHJcbiAgY2FyZEVkaXRCdXR0b24sXHJcbn0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzLmpzXCI7XHJcblxyXG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xyXG5cclxuLy8gVmFyaWFibGVzXHJcbmxldCBjYXJkc0xpc3Q7XHJcbmxldCBwcm9maWxlUmVuZGVyO1xyXG5sZXQgY3VyVXNlclByb2ZpbGU7XHJcbmxldCBjdXJVc2VyQXZhdGFyO1xyXG5cclxuLy9TRUNUSU9OIC0gQ2FsbGJhY2tzXHJcblxyXG5jb25zdCBnZXRQYXRjaCA9IChkb21WYWx1ZXMpID0+IHtcclxuICBjb25zdCBtb2RhbFNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9vcGVuZWRcIik7XHJcblxyXG4gIGNvbnN0IG1vZGFsS2V5ID0gbW9kYWxTZWxlY3Rvci5pZDtcclxuXHJcbiAgY29uc3QgaGFuZGxlcnMgPSB7XHJcbiAgICBwcm9maWxlTW9kYWw6ICgpID0+IHtcclxuICAgICAgbGV0IHZhbHVlcyA9IHtcclxuICAgICAgICBuZXdOYW1lOiBkb21WYWx1ZXMubmFtZUlucHV0LFxyXG4gICAgICAgIG5ld0Fib3V0OiBkb21WYWx1ZXMuYWJvdXRJbnB1dCxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJldHVybiBwYWdlQXBpXHJcbiAgICAgICAgLmVkaXRVc2VyQXBpKHZhbHVlcy5uZXdOYW1lLCB2YWx1ZXMubmV3QWJvdXQpXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIChjdXJVc2VyUHJvZmlsZSA9IHJlcyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBicm9rZW4gY2FsbCBmcm9tIGluZGV4NTc6ICR7ZXJyfWApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICBhdmF0YXJNb2RhbDogKCkgPT4ge1xyXG4gICAgICBsZXQgdmFsdWVzID0geyBuZXdBdmF0YXI6IGRvbVZhbHVlcy5hdmF0YXJJbnB1dCB9O1xyXG5cclxuICAgICAgcmV0dXJuIHBhZ2VBcGlcclxuICAgICAgICAuZWRpdEF2YXRhckFwaSh2YWx1ZXMubmV3QXZhdGFyKVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIHJldHVybiAoY3VyVXNlckF2YXRhciA9IHJlcyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBicm9rZW4gY2FsbCBmcm9tIGluZGV4NzA6ICR7ZXJyfWApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVyID0gaGFuZGxlcnNbbW9kYWxLZXldO1xyXG5cclxuICBpZiAoIWhhbmRsZXIpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgTm8gaGFuZGxlciBkZWZpbmVkIGZvciBtb2RhbCB0eXBlOiAke21vZGFsS2V5fWApO1xyXG4gIH1cclxuICByZXR1cm4gaGFuZGxlcigpO1xyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyQ2FyZCA9IChpdGVtKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgaXRlbSxcclxuICAgIFwiI2NhcmQtaW5zdGFuY2UtdGVtcGxhdGVcIixcclxuICAgIGhhbmRsZVByZXZpZXdJbWFnZSxcclxuICAgIHByZXBhcmVEZWxldGUsXHJcbiAgICBwYWdlQXBpXHJcbiAgKTtcclxuICBjb25zdCBjYXJkSW5zdGFuY2UgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gIGNhcmRzTGlzdC5hZGRJdGVtKGNhcmRJbnN0YW5jZSk7XHJcbiAgcmV0dXJuIGNhcmRJbnN0YW5jZTtcclxufTtcclxuXHJcbi8vU0VDVElPTiAtIFNldHVwXHJcblxyXG5jb25zdCBwYWdlQXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiZTMxNWU5MmYtN2QxYi00M2YyLWIwNTctY2RjYTE3NjllNDBjXCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHVzZXJOb2Rlcyk7XHJcblxyXG5wYWdlQXBpXHJcbiAgLmFwaVByb21pc2VBbGwoKVxyXG4gIC50aGVuKChyZXMpID0+IHtcclxuICAgIGxldCBbaW5pdGlhbFVzZXIsIGluaXRpYWxDYXJkc10gPSByZXM7XHJcbiAgICByZXR1cm4geyBpbml0aWFsVXNlciwgaW5pdGlhbENhcmRzIH07XHJcbiAgfSlcclxuICAudGhlbigocmVzKSA9PiB7XHJcbiAgICBjb25zdCBwcm9maWxlSWQgPSB1c2VySW5mby5zZXRDdXJyZW50VXNlcihyZXMuaW5pdGlhbFVzZXIpLl9pZDtcclxuICAgIHByb2ZpbGVSZW5kZXIgPSByZXMuaW5pdGlhbFVzZXI7XHJcbiAgICB1c2VySW5mby5zZXRDdXJyZW50VXNlcihwcm9maWxlUmVuZGVyKTtcclxuICAgIGNhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG4gICAgICB7XHJcbiAgICAgICAgaXRlbXM6IHJlcy5pbml0aWFsQ2FyZHMsXHJcbiAgICAgICAgcmVuZGVyZXI6IHJlbmRlckNhcmQsXHJcbiAgICAgIH0sXHJcbiAgICAgIFwiI2NhcmQtc2VjdGlvbi13cmFwcGVyXCJcclxuICAgICk7XHJcbiAgICBjYXJkc0xpc3QucmVuZGVySXRlbXMoKTtcclxuICAgIHJldHVybiBwcm9maWxlSWQ7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgYWxlcnQoYFNlcnZlciBlcnJvcjogJHtlcnJ9LCBwbGVhc2UgdHJ5IGFnYWluLmApO1xyXG4gICAgLy9GSVhNRSAtIFdoYXQgaWYgc2V2ZXJhbCBlcnJvcnM/XHJcbiAgfSk7XHJcblxyXG4vLyBJbnN0YW5jZXM/XHJcbi8vIEluaXRpYWxpemF0aW9ucz9cclxuXHJcbmNvbnN0IGFueUZvcm1WYWxpZGF0aW9uID0gKHNldHRpbmdzKSA9PiB7XHJcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2V0dGluZ3MuZm9ybVNlbGVjdG9yKSk7XHJcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsKSA9PiB7XHJcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgZm9ybUVsKTtcclxuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XHJcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XHJcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuYW55Rm9ybVZhbGlkYXRpb24odmFsaWRhdGlvblNldHRpbmdzKTtcclxuXHJcbmZvcm1WYWxpZGF0b3JzW3Byb2ZpbGVFZGl0Rm9ybS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpXS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmZvcm1WYWxpZGF0b3JzW2NhcmRFZGl0Rm9ybS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpXS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmZvcm1WYWxpZGF0b3JzW2F2YXRhckVkaXRGb3JtLmdldEF0dHJpYnV0ZShcIm5hbWVcIildLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IHByZXZpZXdJbWFnZU1vZGFsID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI2NhcmREaXNwbGF5TW9kYWxcIik7XHJcblxyXG4vLyBjb2RlIGR1cGxpY2F0aW9uIHRob3VnaHRzOiBib3RoIFBvcHVwV2l0aEZvcm0gaW5zdGFuY2VzIGFyZSBzdXBlciBzaW1pbGFyIGhlcmUsIGVzcGVjaWFsbHkgaW4gdGhlIC50aGVuIGFuZCAuY2F0Y2hcclxuXHJcbmNvbnN0IGF2YXRhckVkaXRNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIiNhdmF0YXJNb2RhbFwiLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChmb3JtVmFsdWVzKSA9PiB7XHJcbiAgICBhdmF0YXJFZGl0TW9kYWwucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICAgIGdldFBhdGNoKGZvcm1WYWx1ZXMpXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICB1c2VySW5mby5zZXRDdXJyZW50VXNlcihyZXMpO1xyXG4gICAgICAgIC8vUkVWSUVXIC0gZG9lcyB0aGlzIGFjdHVhbGx5IHVwZGF0ZSBhbnl0aGluZyBpbiBVST9cclxuICAgICAgICBmb3JtVmFsaWRhdG9yc1tcclxuICAgICAgICAgIGF2YXRhckVkaXRGb3JtLmdldEF0dHJpYnV0ZShcIm5hbWVcIilcclxuICAgICAgICBdLmhhbmRsZVJlc2V0VmFsaWRhdGlvbih0cnVlKTtcclxuICAgICAgICBhdmF0YXJFZGl0TW9kYWwuY2xvc2UoKTtcclxuICAgICAgICBhdmF0YXJFZGl0TW9kYWwucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgIGF2YXRhckVkaXRNb2RhbC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYCR7ZXJyfWApO1xyXG4gICAgICB9KTtcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IHByb2ZpbGVFZGl0TW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIjcHJvZmlsZU1vZGFsXCIsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGZvcm1WYWx1ZXMpID0+IHtcclxuICAgIHByb2ZpbGVFZGl0TW9kYWwucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICAgIGdldFBhdGNoKGZvcm1WYWx1ZXMpXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICB1c2VySW5mby5zZXRDdXJyZW50VXNlcihyZXMpO1xyXG4gICAgICAgIGZvcm1WYWxpZGF0b3JzW1xyXG4gICAgICAgICAgcHJvZmlsZUVkaXRGb3JtLmdldEF0dHJpYnV0ZShcIm5hbWVcIilcclxuICAgICAgICBdLmhhbmRsZVJlc2V0VmFsaWRhdGlvbih0cnVlKTtcclxuICAgICAgICBwcm9maWxlRWRpdE1vZGFsLmNsb3NlKCk7XHJcbiAgICAgICAgcHJvZmlsZUVkaXRNb2RhbC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgcHJvZmlsZUVkaXRNb2RhbC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICBhbGVydChgJHtlcnJ9YCk7XHJcbiAgICAgIH0pO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgY2FyZEVkaXRNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBcIiNjYXJkQWRkTW9kYWxcIixcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoZm9ybVZhbHVlcykgPT4ge1xyXG4gICAgY2FyZEVkaXRNb2RhbC5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gICAgcGFnZUFwaVxyXG4gICAgICAuYWRkQ2FyZEFwaShmb3JtVmFsdWVzLmNhcmRUaXRsZSwgZm9ybVZhbHVlcy5pbWFnZVVybClcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIHJlbmRlckNhcmQoeyBuYW1lOiByZXMubmFtZSwgbGluazogcmVzLmxpbmsgfSk7XHJcbiAgICAgICAgLy8gcHVsbHMgJ2l0ZW0nIGZyb20gdGhlIHJlcyBmb3IgcmVuZGVyQ2FyZCwgc2VuZHMgdG8gdGhlIENhcmQgY29uc3RydWN0b3IgJ2RhdGEnXHJcbiAgICAgICAgLy8gZGF0YSBzaG91bGQgaW5jbHVkZSB0aGUgcHJvcGVydGllczogbmFtZSwgbGluaywgX2lkXHJcbiAgICAgICAgZm9ybVZhbGlkYXRvcnNbY2FyZEVkaXRGb3JtLmdldEF0dHJpYnV0ZShcIm5hbWVcIildLmhhbmRsZVJlc2V0VmFsaWRhdGlvbihcclxuICAgICAgICAgIHRydWVcclxuICAgICAgICApO1xyXG4gICAgICAgIGNhcmRFZGl0TW9kYWwuY2xvc2UoKTtcclxuICAgICAgICBjYXJkRWRpdE1vZGFsLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICBjYXJkRWRpdE1vZGFsLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIGFsZXJ0KGAke2Vycn1gKTtcclxuICAgICAgfSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5jb25zdCBjYXJkRGVsZXRlTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIjY2FyZERlbGV0ZU1vZGFsXCIsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKF8sIGNhcmRJbnN0YW5jZSwgY2FyZElkKSA9PiB7XHJcbiAgICAvLyBwYXJhbXM6IDEuIGZvcm1WYWx1ZXMgKE5BKSwgMi4gZnVsbCBjYXJkIGluc3RhbmNlLCAzLiBleHRyYWN0ZWQgX2NhcmRJZCBmb3IgQVBJXHJcblxyXG4gICAgcGFnZUFwaVxyXG4gICAgICAuZGVsZXRlQ2FyZEFwaShjYXJkSWQpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAvL1JFVklFVyAtIGRvIGkgbmVlZCB0aGUgcmVzIGFueXdoZXJlP1xyXG4gICAgICAgIGNhcmRJbnN0YW5jZS5oYW5kbGVEZWxldGVDYXJkKCk7XHJcbiAgICAgICAgY2FyZERlbGV0ZU1vZGFsLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgIGFsZXJ0KGAke2Vycn1gKTtcclxuICAgICAgfSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG4vL1NFQ1RJT04gLSBMaXN0ZW5lcnNcclxuXHJcbnByZXZpZXdJbWFnZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnByb2ZpbGVFZGl0TW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuYXZhdGFyRWRpdE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmNhcmRFZGl0TW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuY2FyZERlbGV0ZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5hdmF0YXJFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgZm9ybVZhbGlkYXRvcnNbYXZhdGFyRWRpdEZvcm0uZ2V0QXR0cmlidXRlKFwibmFtZVwiKV0uaGFuZGxlUmVzZXRWYWxpZGF0aW9uKFxyXG4gICAgdHJ1ZSAvL1JFVklFVyAtICBJIHRoaW5rIHdlIHNob3VsZCBjbGVhciB0aGUgdXJsIGFuZCB0aGUgdmFsaWRhdGlvbiwgY29ycmVjdD9cclxuICApO1xyXG4gIGF2YXRhckVkaXRNb2RhbC5vcGVuKCk7XHJcbn0pO1xyXG5cclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICB1c2VySW5mby5maWxsVXNlckZvcm0oKTtcclxuICBmb3JtVmFsaWRhdG9yc1twcm9maWxlRWRpdEZvcm0uZ2V0QXR0cmlidXRlKFwibmFtZVwiKV0uaGFuZGxlUmVzZXRWYWxpZGF0aW9uKFxyXG4gICAgZmFsc2VcclxuICApO1xyXG4gIHByb2ZpbGVFZGl0TW9kYWwub3BlbigpO1xyXG59KTtcclxuXHJcbmNhcmRFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY2FyZEVkaXRNb2RhbC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLy9TRUNUSU9OIC0gSGFuZGxlcnNcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVByZXZpZXdJbWFnZShjYXJkRWxlbWVudCkge1xyXG4gIGNvbnN0IG5hbWUgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RleHRcIikudGV4dENvbnRlbnQ7XHJcbiAgY29uc3QgbGluayA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIikuc3JjO1xyXG4gIHByZXZpZXdJbWFnZU1vZGFsLm9wZW4oeyBuYW1lLCBsaW5rIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwcmVwYXJlRGVsZXRlKGNhcmRJbnN0YW5jZSkge1xyXG4gIGNvbnN0IGNhcmRJZCA9IGNhcmRJbnN0YW5jZS5fY2FyZElkOyAvLyBleHRyYWN0IGZvciBBUElcclxuICBjYXJkRGVsZXRlTW9kYWwub3BlbihjYXJkSW5zdGFuY2UsIGNhcmRJZCk7IC8vIHNlbmRzIGluc3RhbmNlIGFuZCBJRCB0byB0aGUgbW9kYWxcclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGNvbmZpZy5iYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrUmVzcG9uc2UocmVzLCBtZXRob2RTdHJpbmcpIHtcclxuICAgIGlmICghcmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChtZXRob2RTdHJpbmcgPT09IFwiUE9TVFwiKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRnVsbCBlcnJvciByZXNwb25zZTpcIiwgcmVzKTtcclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtZXRob2RTdHJpbmcgPT09IFwiUEFUQ0hcIikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkZ1bGwgZXJyb3IgcmVzcG9uc2U6XCIsIHJlcyk7XHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXHJcbiAgICAgICAgICAgIGBFcnJvcjogJHtyZXMuZXJyb3JzW09iamVjdC5rZXlzKHJlcy5lcnJvcnMpWzBdXS5tZXNzYWdlfWBcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGdWxsIGVycm9yIHJlc3BvbnNlOlwiLCByZXMpO1xyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXN9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXBpUHJvbWlzZUFsbCgpIHtcclxuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRVc2VyQXBpKCksIHRoaXMuZ2V0SW5pdGlhbENhcmRzKCldKVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgYWxlcnQoXCJTb3JyeSwgc29tZXRoaW5nIHdlbnQgd3JvbmcuXCIpO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMsIFwiR0VUXCIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VyQXBpKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcywgXCJHRVRcIik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVkaXRVc2VyQXBpKG5hbWUsIGFib3V0KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBhYm91dDogYWJvdXQsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcywgXCJQQVRDSFwiKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZWRpdEF2YXRhckFwaShhdmF0YXIpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBhdmF0YXIsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcywgXCJQQVRDSFwiKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkQ2FyZEFwaShjYXJkVGl0bGUsIGltYWdlVVJMKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBjYXJkVGl0bGUsXHJcbiAgICAgICAgbGluazogaW1hZ2VVUkwsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcywgXCJQT1NUXCIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVDYXJkQXBpKF9pZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7X2lkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcywgXCJERUxFVEVcIik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZExpa2VBcGkoX2lkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtfaWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzLCBcIlBVVFwiKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlTGlrZUFwaShfaWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke19pZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMsIFwiREVMRVRFXCIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsIi8vIHRvIHJlbmRlciB0byB0aGUgRE9NXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IodXNlck9iaikge1xyXG4gICAgdGhpcy5fdXNlck9iaiA9IHVzZXJPYmo7XHJcbiAgICB0aGlzLl9wcm9maWxlSWQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgX2dldEN1cnJlbnRVc2VyKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmFtZTogdGhpcy5fdXNlck9iai5jdXJOYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBhYm91dDogdGhpcy5fdXNlck9iai5jdXJBYm91dC50ZXh0Q29udGVudCxcclxuICAgICAgYXZhdGFyOiB0aGlzLl91c2VyT2JqLmN1ckF2YXRhci5zcmMsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc2V0Q3VycmVudFVzZXIoaW5wdXRWYWxzKSB7XHJcbiAgICBsZXQgYXZhdGFyVmFsID0gaW5wdXRWYWxzLmF2YXRhciB8fCBpbnB1dFZhbHMuYXZhdGFySW5wdXQ7XHJcbiAgICBsZXQgbmFtZVZhbCA9IGlucHV0VmFscy5uYW1lIHx8IGlucHV0VmFscy5uYW1lSW5wdXQ7XHJcbiAgICBsZXQgYWJvdXRWYWwgPSBpbnB1dFZhbHMuYWJvdXQgfHwgaW5wdXRWYWxzLmFib3V0SW5wdXQ7XHJcbiAgICBsZXQgaWRWYWwgPSBpbnB1dFZhbHMuX2lkO1xyXG5cclxuICAgIGlmIChhdmF0YXJWYWwpIHtcclxuICAgICAgdGhpcy5fdXNlck9iai5jdXJBdmF0YXIuc3JjID0gYXZhdGFyVmFsO1xyXG4gICAgfVxyXG4gICAgaWYgKG5hbWVWYWwpIHtcclxuICAgICAgdGhpcy5fdXNlck9iai5jdXJOYW1lLnRleHRDb250ZW50ID0gbmFtZVZhbDtcclxuICAgIH1cclxuICAgIGlmIChhYm91dFZhbCkge1xyXG4gICAgICB0aGlzLl91c2VyT2JqLmN1ckFib3V0LnRleHRDb250ZW50ID0gYWJvdXRWYWw7XHJcbiAgICB9XHJcbiAgICBpZiAoaWRWYWwpIHRoaXMuX3Byb2ZpbGVJZCA9IGlkVmFsO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGF2YXRhcjogYXZhdGFyVmFsLFxyXG4gICAgICBuYW1lOiBuYW1lVmFsLFxyXG4gICAgICBhYm91dDogYWJvdXRWYWwsXHJcbiAgICAgIF9pZDogaWRWYWwsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZmlsbFVzZXJGb3JtKCkge1xyXG4gICAgY29uc3QgZm9ybVZhbHMgPSB0aGlzLl9nZXRDdXJyZW50VXNlcigpO1xyXG4gICAgdGhpcy5fdXNlck9iai5uYW1lSW5wdXQudmFsdWUgPSBgJHtmb3JtVmFscy5uYW1lfWA7XHJcbiAgICB0aGlzLl91c2VyT2JqLmFib3V0SW5wdXQudmFsdWUgPSBgJHtmb3JtVmFscy5hYm91dH1gO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcHJldmlld0ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9wcmV2aWV3VGV4dCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3RleHRcIik7XHJcbiAgfVxyXG5cclxuICBvcGVuKHsgbmFtZSwgbGluayB9KSB7XHJcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2Uuc3JjID0gbGluaztcclxuICAgIHRoaXMuX3ByZXZpZXdJbWFnZS5hbHQgPSBuYW1lO1xyXG4gICAgdGhpcy5fcHJldmlld1RleHQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZVByZXZpZXdJbWFnZSIsInByZXBhcmVEZWxldGUiLCJhcGlJbnN0YW5jZSIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfY2FyZElkIiwiX2lkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVQcmV2aWV3SW1hZ2UiLCJfcHJlcGFyZURlbGV0ZSIsIl9hcGkiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfZGVsZXRlQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9saWtlQnV0dG9uIiwiX2hhbmRsZUxpa2VJY29uIiwiX2NhcmRJbWFnZSIsIl9jYXJkRWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImNsb25lTm9kZSIsIl90b2dnbGVMaWtlSWNvbiIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImhhbmRsZURlbGV0ZUNhcmQiLCJyZW1vdmUiLCJjb250YWlucyIsImRlbGV0ZUxpa2VBcGkiLCJ0aGVuIiwiY2F0Y2giLCJlcnIiLCJQcm9taXNlIiwicmVqZWN0IiwiYWRkTGlrZUFwaSIsImdlbmVyYXRlQ2FyZCIsInNyYyIsInRleHRDb250ZW50IiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm1FbCIsIl9pbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3N1Ym1pdEJ0biIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJpbnB1dEVsIiwiZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfaGFzVmFsaWRJbnB1dCIsIl9lbmFibGVCdXR0b24iLCJfZGlzYWJsZUJ1dHRvbiIsInZhbGlkaXR5IiwidmFsaWQiLCJfc2hvd0lucHV0RXJyb3IiLCJfaGlkZUlucHV0RXJyb3IiLCJkaXNhYmxlZCIsImFkZCIsIl9lcnJvckVsIiwiaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9lcnJvck1lc3NhZ2VFbCIsImV2ZXJ5IiwiZW5hYmxlVmFsaWRhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiaGFuZGxlUmVzZXRWYWxpZGF0aW9uIiwic2hvdWxkUmVzZXRGaWVsZHMiLCJyZXNldCIsIlNlY3Rpb24iLCJfcmVmIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pbml0aWFsQXJyYXkiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJpdGVtIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY2xvc2UiLCJvcGVuIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9nZXRJbnB1dFZhbHVlcyIsImluc3RhbmNlIiwiaW5zdGFuY2VPcHQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJpZE9wdCIsInJlbmRlckxvYWRpbmciLCJpc0xvYWRpbmciLCJfZm9ybVZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJhdmF0YXJFZGl0Rm9ybSIsImZvcm1zIiwicHJvZmlsZUVkaXRGb3JtIiwiY2FyZEVkaXRGb3JtIiwiYXZhdGFyRWRpdEJ1dHRvbiIsInByb2ZpbGVFZGl0QnV0dG9uIiwiY2FyZEVkaXRCdXR0b24iLCJ1c2VyTm9kZXMiLCJuYW1lSW5wdXQiLCJhYm91dElucHV0IiwiYXZhdGFySW5wdXQiLCJjdXJBdmF0YXIiLCJjdXJOYW1lIiwiY3VyQWJvdXQiLCJmb3JtVmFsaWRhdG9ycyIsImNhcmRzTGlzdCIsInByb2ZpbGVSZW5kZXIiLCJjdXJVc2VyUHJvZmlsZSIsImN1clVzZXJBdmF0YXIiLCJnZXRQYXRjaCIsImRvbVZhbHVlcyIsIm1vZGFsS2V5IiwiaGFuZGxlciIsInByb2ZpbGVNb2RhbCIsInZhbHVlcyIsIm5ld05hbWUiLCJuZXdBYm91dCIsInBhZ2VBcGkiLCJlZGl0VXNlckFwaSIsInJlcyIsImF2YXRhck1vZGFsIiwibmV3QXZhdGFyIiwiZWRpdEF2YXRhckFwaSIsIkVycm9yIiwicmVuZGVyQ2FyZCIsImNhcmRJbnN0YW5jZSIsImNvbmZpZyIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsIl9jaGVja1Jlc3BvbnNlIiwibWV0aG9kU3RyaW5nIiwib2siLCJqc29uIiwiY29uc29sZSIsImVycm9yIiwibWVzc2FnZSIsImVycm9ycyIsIk9iamVjdCIsImtleXMiLCJhcGlQcm9taXNlQWxsIiwiYWxsIiwiZ2V0VXNlckFwaSIsImdldEluaXRpYWxDYXJkcyIsImFsZXJ0IiwiZmV0Y2giLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYXZhdGFyIiwiYWRkQ2FyZEFwaSIsImNhcmRUaXRsZSIsImltYWdlVVJMIiwiZGVsZXRlQ2FyZEFwaSIsImF1dGhvcml6YXRpb24iLCJ1c2VySW5mbyIsInVzZXJPYmoiLCJfdXNlck9iaiIsIl9wcm9maWxlSWQiLCJfZ2V0Q3VycmVudFVzZXIiLCJzZXRDdXJyZW50VXNlciIsImlucHV0VmFscyIsImF2YXRhclZhbCIsIm5hbWVWYWwiLCJhYm91dFZhbCIsImlkVmFsIiwiZmlsbFVzZXJGb3JtIiwiZm9ybVZhbHMiLCJpbml0aWFsVXNlciIsImluaXRpYWxDYXJkcyIsInByb2ZpbGVJZCIsImZvcm1TZWxlY3RvciIsIkFycmF5IiwiZnJvbSIsInZhbGlkYXRvciIsImZvcm1OYW1lIiwiZ2V0QXR0cmlidXRlIiwicHJldmlld0ltYWdlTW9kYWwiLCJfcHJldmlld0ltYWdlIiwiX3ByZXZpZXdUZXh0IiwiYWx0IiwiYXZhdGFyRWRpdE1vZGFsIiwiZm9ybVZhbHVlcyIsInByb2ZpbGVFZGl0TW9kYWwiLCJjYXJkRWRpdE1vZGFsIiwiaW1hZ2VVcmwiLCJjYXJkRGVsZXRlTW9kYWwiLCJfIiwiY2FyZElkIiwiY2FyZEVsZW1lbnQiXSwic291cmNlUm9vdCI6IiJ9