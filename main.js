!function(){"use strict";class e{constructor(e,t,r,s,i){this._name=e.name,this._link=e.link,this._cardId=e._id,this._cardSelector=t,this._handlePreviewImage=r,this._prepareDelete=s,this._api=i}_setEventListeners(){this._deleteButton.addEventListener("click",(()=>{this._prepareDelete(this)})),this._likeButton.addEventListener("click",(()=>{this._handleLikeIcon()})),this._cardImage.addEventListener("click",(()=>{this._handlePreviewImage(this._cardElement)}))}_getTemplate(){return document.querySelector(this._cardSelector).content.firstElementChild.cloneNode(!0)}_toggleLikeIcon(){this._likeButton.classList.toggle("card__like-button_active")}handleDeleteCard(){this._cardElement.remove()}_handleLikeIcon(){this._likeButton.classList.contains("card__like-button_active")?this._api.deleteLikeApi(this._cardId).then((()=>{this._toggleLikeIcon()})).catch((e=>Promise.reject(`${e}`))):this._api.addLikeApi(this._cardId).then((()=>{this._toggleLikeIcon()})).catch((e=>Promise.reject(`${e}`)))}generateCard(){return this._cardElement=this._getTemplate(),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardElement.querySelector(".card__image").src=this._link,this._cardElement.querySelector(".card__text").textContent=this._name,this._setEventListeners(),this._cardElement}}class t{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formEl=t,this._inputList=[...this._formEl.querySelectorAll(this._inputSelector)],this._submitBtn=this._formEl.querySelector(this._submitButtonSelector)}_setEventListeners(){this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}_toggleButtonState(){this._hasValidInput(this._inputList)?this._enableButton():this._disableButton()}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_enableButton(){this._hasValidInput([...this._inputList])&&(this._submitBtn.classList.remove(this._inactiveButtonClass),this._submitBtn.disabled=!1)}_disableButton(){this._submitBtn.classList.add(this._inactiveButtonClass),this._submitBtn.disabled=!0}_showInputError(e){this._errorEl=this._formEl.querySelector(`#${e.id}Error`),this._errorEl.textContent=e.validationMessage,this._errorEl.classList.add(this._errorClass)}_hideInputError(e){this._errorMessageEl=this._formEl.querySelector(`#${e.id}Error`),this._errorMessageEl.textContent="",this._errorMessageEl.classList.remove(this._errorClass)}_hasValidInput(){return this._inputList.every((e=>e.validity.valid))}enableValidation(){this._formEl.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}handleResetValidation(e){this._disableButton(),this._toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)})),!0===e&&this._formEl.reset()}}class r{constructor(e,t){let{items:r,renderer:s}=e;this._initialArray=r,this._renderer=s,this._container=document.querySelector(t)}renderItems(){this._initialArray.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}class s{constructor(e){this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}setEventListeners(){this._popup.addEventListener("click",(e=>{(e.target.classList.contains("modal__close")||e.target.classList.contains("modal_opened"))&&this.close()}))}open(){this._popup.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}}class i extends s{constructor(e){let{popupSelector:t,handleFormSubmit:r}=e;super(t),this._handleFormSubmit=r,this._submitBtn=this._popup.querySelector(".modal__form").querySelector(".modal__submit")}setEventListeners(){this._popup.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues(),this.instance,this.id),this._popup.querySelector(".modal__form").reset()})),super.setEventListeners()}open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.instance=e,this.id=t,super.open()}renderLoading(e){this._submitBtn.textContent=e?"Saving...":"Save"}_getInputValues(){return this._inputList=this._popup.querySelectorAll(".modal__input"),this._formValues={},this._inputList.forEach((e=>{this._formValues[e.name]=e.value})),this._formValues}}const n=document.forms.avatarEditForm,a=document.forms.profileEditForm,o=document.forms.cardEditForm,l=(document.forms.cardDeleteForm,document.querySelector("#profile-image-edit-button")),c=document.querySelector("#profile-edit-button"),d=document.querySelector("#card-edit-button"),h=(document.querySelectorAll("#card-delete-button"),{nameInput:a.querySelector("#nameInput"),aboutInput:a.querySelector("#aboutInput"),avatarInput:n.querySelector("#avatarInput"),curAvatar:document.querySelector(".profile__image-pic"),curName:document.querySelector(".profile__title"),curAbout:document.querySelector(".profile__about")}),u={};let _,m,p,b;const E=e=>{const t=document.querySelector(".modal_opened").id,r={profileModal:()=>{let t={newName:e.nameInput,newAbout:e.aboutInput};return g.editUserApi(t.newName,t.newAbout).then((e=>p=e)).catch((e=>Promise.reject(`broken call from index57: ${e}`)))},avatarModal:()=>{let t={newAvatar:e.avatarInput};return g.editAvatarApi(t.newAvatar).then((e=>b=e)).catch((e=>Promise.reject(`broken call from index70: ${e}`)))}}[t];if(!r)throw new Error(`No handler defined for modal type: ${t}`);return r()},v=t=>{const r=new e(t,"#card-instance-template",I,q,g).generateCard();return _.addItem(r),r},g=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}_checkResponse(e,t){return e.ok?e.json():e.json().then((e=>"POST"===t?(console.error("Full error response:",e),Promise.reject(`Error: ${e.message}`)):"PATCH"===t?(console.error("Full error response:",e),Promise.reject(`Error: ${e.errors[Object.keys(e.errors)[0]].message}`)):(console.error("Full error response:",e),Promise.reject(`Error: ${e.status}`))))}apiPromiseAll(){return Promise.all([this.getUserApi(),this.getInitialCards()]).then((e=>e)).catch((e=>{console.error(e),alert("Sorry, something went wrong.")}))}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then((e=>this._checkResponse(e,"GET")))}getUserApi(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then((e=>this._checkResponse(e,"GET")))}editUserApi(e,t){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((e=>this._checkResponse(e,"PATCH")))}editAvatarApi(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((e=>this._checkResponse(e,"PATCH")))}addCardApi(e,t){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((e=>this._checkResponse(e,"POST")))}deleteCardApi(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then((e=>this._checkResponse(e,"DELETE")))}addLikeApi(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then((e=>this._checkResponse(e,"PUT")))}deleteLikeApi(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then((e=>this._checkResponse(e,"DELETE")))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"e315e92f-7d1b-43f2-b057-cdca1769e40c","Content-Type":"application/json"}}),S=new class{constructor(e){this._userObj=e,this._profileId=null}_getCurrentUser(){return{name:this._userObj.curName.textContent,about:this._userObj.curAbout.textContent,avatar:this._userObj.curAvatar.src}}setCurrentUser(e){let t=e.avatar||e.avatarInput,r=e.name||e.nameInput,s=e.about||e.aboutInput,i=e._id;return t&&(this._userObj.curAvatar.src=t),r&&(this._userObj.curName.textContent=r),s&&(this._userObj.curAbout.textContent=s),i&&(this._profileId=i),{avatar:t,name:r,about:s,_id:i}}fillUserForm(){const e=this._getCurrentUser();this._userObj.nameInput.value=`${e.name}`,this._userObj.aboutInput.value=`${e.about}`}}(h);var L;g.apiPromiseAll().then((e=>{let[t,r]=e;return{initialUser:t,initialCards:r}})).then((e=>{const t=S.setCurrentUser(e.initialUser)._id;return m=e.initialUser,S.setCurrentUser(m),_=new r({items:e.initialCards,renderer:v},"#card-section-wrapper"),_.renderItems(),t})).catch((e=>{console.error(e),alert(`Server error: ${e}, please try again.`)})),L={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit",inactiveButtonClass:"modal__submit_inactive",inputErrorClass:"modal__error",errorClass:"modal__error_visible"},Array.from(document.querySelectorAll(L.formSelector)).forEach((e=>{const r=new t(L,e),s=e.getAttribute("name");u[s]=r,r.enableValidation()})),u[a.getAttribute("name")].enableValidation(),u[o.getAttribute("name")].enableValidation(),u[n.getAttribute("name")].enableValidation();const f=new class extends s{constructor(e){super(e),this._previewImage=this._popup.querySelector(".modal__image"),this._previewText=this._popup.querySelector(".modal__text")}open(e){let{name:t,link:r}=e;this._previewImage.src=r,this._previewImage.alt=t,this._previewText.textContent=t,super.open()}}("#cardDisplayModal"),y=new i({popupSelector:"#avatarModal",handleFormSubmit:e=>{y.renderLoading(!0),E(e).then((e=>{S.setCurrentUser(e),u[n.getAttribute("name")].handleResetValidation(!0),y.close(),y.renderLoading(!1)})).catch((e=>(console.error(e),y.renderLoading(!1),Promise.reject(`${e}`))))}}),C=new i({popupSelector:"#profileModal",handleFormSubmit:e=>{C.renderLoading(!0),E(e).then((e=>{S.setCurrentUser(e),u[a.getAttribute("name")].handleResetValidation(!0),C.close(),C.renderLoading(!1)})).catch((e=>{console.error(e),C.renderLoading(!1),alert(`${e}`)}))}}),k=new i({popupSelector:"#cardAddModal",handleFormSubmit:e=>{k.renderLoading(!0),g.addCardApi(e.cardTitle,e.imageUrl).then((e=>{v({name:e.name,link:e.link}),u[o.getAttribute("name")].handleResetValidation(!0),k.close(),k.renderLoading(!1)})).catch((e=>{console.error(e),k.renderLoading(!1),alert(`${e}`)}))}}),A=new i({popupSelector:"#cardDeleteModal",handleFormSubmit:(e,t,r)=>{g.deleteCardApi(r).then((()=>{t.handleDeleteCard(),A.close()})).catch((e=>{console.error(e),alert(`${e}`)}))}});function I(e){const t=e.querySelector(".card__text").textContent,r=e.querySelector(".card__image").src;f.open({name:t,link:r})}function q(e){const t=e._cardId;A.open(e,t)}f.setEventListeners(),C.setEventListeners(),y.setEventListeners(),k.setEventListeners(),A.setEventListeners(),l.addEventListener("click",(()=>{u[n.getAttribute("name")].handleResetValidation(!0),y.open()})),c.addEventListener("click",(()=>{S.fillUserForm(),u[a.getAttribute("name")].handleResetValidation(!1),C.open()})),d.addEventListener("click",(()=>{k.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBQWUsTUFBTUEsRUFDbkJDLFdBQUFBLENBQ0VDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEdBRUFDLEtBQUtDLE1BQVFOLEVBQUtPLEtBQ2xCRixLQUFLRyxNQUFRUixFQUFLUyxLQUNsQkosS0FBS0ssUUFBVVYsRUFBS1csSUFDcEJOLEtBQUtPLGNBQWdCWCxFQUNyQkksS0FBS1Esb0JBQXNCWCxFQUMzQkcsS0FBS1MsZUFBaUJYLEVBQ3RCRSxLQUFLVSxLQUFPWCxDQUNkLENBR0FZLGtCQUFBQSxHQUNFWCxLQUFLWSxjQUFjQyxpQkFBaUIsU0FBUyxLQUMzQ2IsS0FBS1MsZUFBZVQsS0FBSyxJQUczQkEsS0FBS2MsWUFBWUQsaUJBQWlCLFNBQVMsS0FDekNiLEtBQUtlLGlCQUFpQixJQUd4QmYsS0FBS2dCLFdBQVdILGlCQUFpQixTQUFTLEtBQ3hDYixLQUFLUSxvQkFBb0JSLEtBQUtpQixhQUFhLEdBRS9DLENBR0FDLFlBQUFBLEdBSUUsT0FIb0JDLFNBQ2pCQyxjQUFjcEIsS0FBS08sZUFDbkJjLFFBQVFDLGtCQUFrQkMsV0FBVSxFQUV6QyxDQUVBQyxlQUFBQSxHQUNFeEIsS0FBS2MsWUFBWVcsVUFBVUMsT0FBTywyQkFDcEMsQ0FHQUMsZ0JBQUFBLEdBQ0UzQixLQUFLaUIsYUFBYVcsUUFDcEIsQ0FFQWIsZUFBQUEsR0FDTWYsS0FBS2MsWUFBWVcsVUFBVUksU0FBUyw0QkFDdEM3QixLQUFLVSxLQUNGb0IsY0FBYzlCLEtBQUtLLFNBQ25CMEIsTUFBSyxLQUNKL0IsS0FBS3dCLGlCQUFpQixJQUV2QlEsT0FBT0MsR0FDQ0MsUUFBUUMsT0FBTyxHQUFHRixPQUc3QmpDLEtBQUtVLEtBQ0YwQixXQUFXcEMsS0FBS0ssU0FDaEIwQixNQUFLLEtBQ0ovQixLQUFLd0IsaUJBQWlCLElBRXZCUSxPQUFPQyxHQUNDQyxRQUFRQyxPQUFPLEdBQUdGLE1BR2pDLENBS0FJLFlBQUFBLEdBWUUsT0FYQXJDLEtBQUtpQixhQUFlakIsS0FBS2tCLGVBQ3pCbEIsS0FBS2MsWUFBY2QsS0FBS2lCLGFBQWFHLGNBQWMsc0JBQ25EcEIsS0FBS1ksY0FBZ0JaLEtBQUtpQixhQUFhRyxjQUNyQyx3QkFFRnBCLEtBQUtnQixXQUFhaEIsS0FBS2lCLGFBQWFHLGNBQWMsZ0JBQ2xEcEIsS0FBS2lCLGFBQWFHLGNBQWMsZ0JBQWdCa0IsSUFBTXRDLEtBQUtHLE1BQzNESCxLQUFLaUIsYUFBYUcsY0FBYyxlQUFlbUIsWUFBY3ZDLEtBQUtDLE1BRWxFRCxLQUFLVyxxQkFFRVgsS0FBS2lCLFlBQ2QsRUN2RmEsTUFBTXVCLEVBQ25COUMsV0FBQUEsQ0FBWStDLEVBQVVDLEdBQ3BCMUMsS0FBSzJDLGVBQWlCRixFQUFTRyxjQUMvQjVDLEtBQUs2QyxzQkFBd0JKLEVBQVNLLHFCQUN0QzlDLEtBQUsrQyxxQkFBdUJOLEVBQVNPLG9CQUNyQ2hELEtBQUtpRCxpQkFBbUJSLEVBQVNTLGdCQUNqQ2xELEtBQUttRCxZQUFjVixFQUFTVyxXQUU1QnBELEtBQUtxRCxRQUFVWCxFQUVmMUMsS0FBS3NELFdBQWEsSUFBSXRELEtBQUtxRCxRQUFRRSxpQkFBaUJ2RCxLQUFLMkMsaUJBQ3pEM0MsS0FBS3dELFdBQWF4RCxLQUFLcUQsUUFBUWpDLGNBQWNwQixLQUFLNkMsc0JBQ3BELENBR0FsQyxrQkFBQUEsR0FDRVgsS0FBS3lELHFCQUVMekQsS0FBS3NELFdBQVdJLFNBQVNDLElBQ3ZCQSxFQUFROUMsaUJBQWlCLFNBQVUrQyxJQUNqQzVELEtBQUs2RCxvQkFBb0JGLEdBQ3pCM0QsS0FBS3lELG9CQUFvQixHQUN6QixHQUVOLENBR0FBLGtCQUFBQSxHQUNPekQsS0FBSzhELGVBQWU5RCxLQUFLc0QsWUFJOUJ0RCxLQUFLK0QsZ0JBSEgvRCxLQUFLZ0UsZ0JBSVQsQ0FFQUgsbUJBQUFBLENBQW9CRixHQUNsQixJQUFLQSxFQUFRTSxTQUFTQyxNQUNwQixPQUFPbEUsS0FBS21FLGdCQUFnQlIsR0FFOUIzRCxLQUFLb0UsZ0JBQWdCVCxFQUN2QixDQUVBSSxhQUFBQSxHQUNNL0QsS0FBSzhELGVBQWUsSUFBSTlELEtBQUtzRCxlQUMvQnRELEtBQUt3RCxXQUFXL0IsVUFBVUcsT0FBTzVCLEtBQUsrQyxzQkFDdEMvQyxLQUFLd0QsV0FBV2EsVUFBVyxFQUUvQixDQUVBTCxjQUFBQSxHQUNFaEUsS0FBS3dELFdBQVcvQixVQUFVNkMsSUFBSXRFLEtBQUsrQyxzQkFDbkMvQyxLQUFLd0QsV0FBV2EsVUFBVyxDQUM3QixDQUVBRixlQUFBQSxDQUFnQlIsR0FDZDNELEtBQUt1RSxTQUFXdkUsS0FBS3FELFFBQVFqQyxjQUFjLElBQUl1QyxFQUFRYSxXQUN2RHhFLEtBQUt1RSxTQUFTaEMsWUFBY29CLEVBQVFjLGtCQUNwQ3pFLEtBQUt1RSxTQUFTOUMsVUFBVTZDLElBQUl0RSxLQUFLbUQsWUFDbkMsQ0FFQWlCLGVBQUFBLENBQWdCVCxHQUNkM0QsS0FBSzBFLGdCQUFrQjFFLEtBQUtxRCxRQUFRakMsY0FBYyxJQUFJdUMsRUFBUWEsV0FDOUR4RSxLQUFLMEUsZ0JBQWdCbkMsWUFBYyxHQUNuQ3ZDLEtBQUswRSxnQkFBZ0JqRCxVQUFVRyxPQUFPNUIsS0FBS21ELFlBQzdDLENBR0FXLGNBQUFBLEdBQ0UsT0FBTzlELEtBQUtzRCxXQUFXcUIsT0FBT2hCLEdBQVlBLEVBQVFNLFNBQVNDLE9BQzdELENBR0FVLGdCQUFBQSxHQUNFNUUsS0FBS3FELFFBQVF4QyxpQkFBaUIsVUFBVytDLElBQ3ZDQSxFQUFFaUIsZ0JBQWdCLElBRXBCN0UsS0FBS1csb0JBQ1AsQ0FHQW1FLHFCQUFBQSxDQUFzQkMsR0FDcEIvRSxLQUFLZ0UsaUJBQ0xoRSxLQUFLeUQscUJBQ0x6RCxLQUFLc0QsV0FBV0ksU0FBU0MsSUFDdkIzRCxLQUFLb0UsZ0JBQWdCVCxFQUFRLEtBRUwsSUFBdEJvQixHQUNGL0UsS0FBS3FELFFBQVEyQixPQUVqQixFQ3pGYSxNQUFNQyxFQUNuQnZGLFdBQUFBLENBQVd3RixFQUFzQnRGLEdBQWMsSUFBbkMsTUFBRXVGLEVBQUssU0FBRUMsR0FBVUYsRUFDN0JsRixLQUFLcUYsY0FBZ0JGLEVBQ3JCbkYsS0FBS3NGLFVBQVlGLEVBQ2pCcEYsS0FBS3VGLFdBQWFwRSxTQUFTQyxjQUFjeEIsRUFDM0MsQ0FFQTRGLFdBQUFBLEdBQ0V4RixLQUFLcUYsY0FBYzNCLFNBQVMrQixJQUMxQnpGLEtBQUtzRixVQUFVRyxFQUFLLEdBRXhCLENBRUFDLE9BQUFBLENBQVFDLEdBQ04zRixLQUFLdUYsV0FBV0ssUUFBUUQsRUFDMUIsRUNmYSxNQUFNRSxFQUNuQm5HLFdBQUFBLENBQVlvRyxHQUNWOUYsS0FBSytGLE9BQVM1RSxTQUFTQyxjQUFjMEUsR0FDckM5RixLQUFLZ0csZ0JBQWtCaEcsS0FBS2dHLGdCQUFnQkMsS0FBS2pHLEtBQ25ELENBRUFrRyxpQkFBQUEsR0FDRWxHLEtBQUsrRixPQUFPbEYsaUJBQWlCLFNBQVUrQyxLQUVuQ0EsRUFBRXVDLE9BQU8xRSxVQUFVSSxTQUFTLGlCQUM1QitCLEVBQUV1QyxPQUFPMUUsVUFBVUksU0FBUyxrQkFFNUI3QixLQUFLb0csT0FDUCxHQUVKLENBRUFDLElBQUFBLEdBQ0VyRyxLQUFLK0YsT0FBT3RFLFVBQVU2QyxJQUFJLGdCQUMxQm5ELFNBQVNOLGlCQUFpQixVQUFXYixLQUFLZ0csZ0JBQzVDLENBRUFJLEtBQUFBLEdBQ0VwRyxLQUFLK0YsT0FBT3RFLFVBQVVHLE9BQU8sZ0JBQzdCVCxTQUFTbUYsb0JBQW9CLFVBQVd0RyxLQUFLZ0csZ0JBQy9DLENBRUFBLGVBQUFBLENBQWdCTyxHQUNFLFdBQVpBLEVBQUlDLEtBQ054RyxLQUFLb0csT0FFVCxFQzdCYSxNQUFNSyxVQUFzQlosRUFDekNuRyxXQUFBQSxDQUFXd0YsR0FBc0MsSUFBckMsY0FBRVksRUFBYSxpQkFBRVksR0FBa0J4QixFQUM3Q3lCLE1BQU1iLEdBRU45RixLQUFLNEcsa0JBQW9CRixFQUN6QjFHLEtBQUt3RCxXQUFheEQsS0FBSytGLE9BQ3BCM0UsY0FBYyxnQkFDZEEsY0FBYyxpQkFFbkIsQ0FFQThFLGlCQUFBQSxHQUNFbEcsS0FBSytGLE9BQU9sRixpQkFBaUIsVUFBVzBGLElBQ3RDQSxFQUFJMUIsaUJBQ0o3RSxLQUFLNEcsa0JBQWtCNUcsS0FBSzZHLGtCQUFtQjdHLEtBQUs4RyxTQUFVOUcsS0FBS3dFLElBQ25FeEUsS0FBSytGLE9BQU8zRSxjQUFjLGdCQUFnQjRELE9BQU8sSUFFbkQyQixNQUFNVCxtQkFDUixDQUVBRyxJQUFBQSxHQUF1QyxJQUFsQ1UsRUFBV0MsVUFBQUMsT0FBQSxRQUFBQyxJQUFBRixVQUFBLEdBQUFBLFVBQUEsR0FBRyxLQUFNRyxFQUFLSCxVQUFBQyxPQUFBLFFBQUFDLElBQUFGLFVBQUEsR0FBQUEsVUFBQSxHQUFHLEtBQy9CaEgsS0FBSzhHLFNBQVdDLEVBQ2hCL0csS0FBS3dFLEdBQUsyQyxFQUNWUixNQUFNTixNQUNSLENBRUFlLGFBQUFBLENBQWNDLEdBRVZySCxLQUFLd0QsV0FBV2pCLFlBRGQ4RSxFQUM0QixZQUVBLE1BRWxDLENBRUFSLGVBQUFBLEdBTUUsT0FMQTdHLEtBQUtzRCxXQUFhdEQsS0FBSytGLE9BQU94QyxpQkFBaUIsaUJBQy9DdkQsS0FBS3NILFlBQWMsQ0FBQyxFQUNwQnRILEtBQUtzRCxXQUFXSSxTQUFTNkQsSUFDdkJ2SCxLQUFLc0gsWUFBWUMsRUFBTXJILE1BQVFxSCxFQUFNQyxLQUFLLElBRXJDeEgsS0FBS3NILFdBQ2QsRUN2Q0ssTUFZTUcsRUFBaUJ0RyxTQUFTdUcsTUFBc0IsZUFDaERDLEVBQWtCeEcsU0FBU3VHLE1BQXVCLGdCQUNsREUsRUFBZXpHLFNBQVN1RyxNQUFvQixhQUk1Q0csR0FIaUIxRyxTQUFTdUcsTUFBc0IsZUFHN0J2RyxTQUFTQyxjQUN2QywrQkFFVzBHLEVBQW9CM0csU0FBU0MsY0FBYyx3QkFDM0MyRyxFQUFpQjVHLFNBQVNDLGNBQWMscUJBS3hDNEcsR0FKb0I3RyxTQUFTb0MsaUJBQ3hDLHVCQUd1QixDQUV2QjBFLFVBQVdOLEVBQWdCdkcsY0FBYyxjQUN6QzhHLFdBQVlQLEVBQWdCdkcsY0FBYyxlQUMxQytHLFlBQWFWLEVBQWVyRyxjQUFjLGdCQUMxQ2dILFVBQVdqSCxTQUFTQyxjQUFjLHVCQUNsQ2lILFFBQVNsSCxTQUFTQyxjQUFjLG1CQUNoQ2tILFNBQVVuSCxTQUFTQyxjQUFjLHFCQ1A3Qm1ILEVBQWlCLENBQUMsRUFHeEIsSUFBSUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFJSixNQUFNQyxFQUFZQyxJQUNoQixNQUVNQyxFQUZnQjNILFNBQVNDLGNBQWMsaUJBRWRvRCxHQWlDekJ1RSxFQS9CVyxDQUNmQyxhQUFjQSxLQUNaLElBQUlDLEVBQVMsQ0FDWEMsUUFBU0wsRUFBVVosVUFDbkJrQixTQUFVTixFQUFVWCxZQUd0QixPQUFPa0IsRUFDSkMsWUFBWUosRUFBT0MsUUFBU0QsRUFBT0UsVUFDbkNwSCxNQUFNdUgsR0FDR1osRUFBaUJZLElBRTFCdEgsT0FBT0MsR0FDQ0MsUUFBUUMsT0FBTyw2QkFBNkJGLE1BQ25ELEVBR05zSCxZQUFhQSxLQUNYLElBQUlOLEVBQVMsQ0FBRU8sVUFBV1gsRUFBVVYsYUFFcEMsT0FBT2lCLEVBQ0pLLGNBQWNSLEVBQU9PLFdBQ3JCekgsTUFBTXVILEdBQ0dYLEVBQWdCVyxJQUV6QnRILE9BQU9DLEdBQ0NDLFFBQVFDLE9BQU8sNkJBQTZCRixNQUNuRCxHQUlpQjZHLEdBRXpCLElBQUtDLEVBQ0gsTUFBTSxJQUFJVyxNQUFNLHNDQUFzQ1osS0FFeEQsT0FBT0MsR0FBUyxFQUdaWSxFQUFjbEUsSUFDbEIsTUFPTW1FLEVBUE8sSUFBSW5LLEVBQ2ZnRyxFQUNBLDBCQUNBNUYsRUFDQUMsRUFDQXNKLEdBRXdCL0csZUFFMUIsT0FEQW1HLEVBQVU5QyxRQUFRa0UsR0FDWEEsQ0FBWSxFQUtmUixFQUFVLElDcEdELE1BQ2IxSixXQUFBQSxDQUFZbUssR0FDVjdKLEtBQUs4SixTQUFXRCxFQUFPRSxRQUN2Qi9KLEtBQUtnSyxTQUFXSCxFQUFPSSxPQUN6QixDQUVBQyxjQUFBQSxDQUFlWixFQUFLYSxHQUNsQixPQUFLYixFQUFJYyxHQWlCQWQsRUFBSWUsT0FoQkpmLEVBQUllLE9BQU90SSxNQUFNdUgsR0FDRCxTQUFqQmEsR0FDRkcsUUFBUUMsTUFBTSx1QkFBd0JqQixHQUMvQnBILFFBQVFDLE9BQU8sVUFBVW1ILEVBQUlrQixZQUVqQixVQUFqQkwsR0FDRkcsUUFBUUMsTUFBTSx1QkFBd0JqQixHQUMvQnBILFFBQVFDLE9BQ2IsVUFBVW1ILEVBQUltQixPQUFPQyxPQUFPQyxLQUFLckIsRUFBSW1CLFFBQVEsSUFBSUQsYUFHbkRGLFFBQVFDLE1BQU0sdUJBQXdCakIsR0FDL0JwSCxRQUFRQyxPQUFPLFVBQVVtSCxFQUFJc0IsWUFNNUMsQ0FFQUMsYUFBQUEsR0FDRSxPQUFPM0ksUUFBUTRJLElBQUksQ0FBQzlLLEtBQUsrSyxhQUFjL0ssS0FBS2dMLG9CQUN6Q2pKLE1BQU11SCxHQUNFQSxJQUVSdEgsT0FBT0MsSUFDTnFJLFFBQVFDLE1BQU10SSxHQUNkZ0osTUFBTSwrQkFBK0IsR0FFM0MsQ0FFQUQsZUFBQUEsR0FDRSxPQUFPRSxNQUFNLEdBQUdsTCxLQUFLOEosaUJBQWtCLENBQ3JDRyxRQUFTakssS0FBS2dLLFdBQ2JqSSxNQUFNdUgsR0FDQXRKLEtBQUtrSyxlQUFlWixFQUFLLFFBRXBDLENBRUF5QixVQUFBQSxHQUNFLE9BQU9HLE1BQU0sR0FBR2xMLEtBQUs4SixvQkFBcUIsQ0FDeENHLFFBQVNqSyxLQUFLZ0ssV0FDYmpJLE1BQU11SCxHQUNBdEosS0FBS2tLLGVBQWVaLEVBQUssUUFFcEMsQ0FFQUQsV0FBQUEsQ0FBWW5KLEVBQU1pTCxHQUNoQixPQUFPRCxNQUFNLEdBQUdsTCxLQUFLOEosb0JBQXFCLENBQ3hDc0IsT0FBUSxRQUNSbkIsUUFBU2pLLEtBQUtnSyxTQUNkcUIsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQnJMLEtBQU1BLEVBQ05pTCxNQUFPQSxNQUVScEosTUFBTXVILEdBQ0F0SixLQUFLa0ssZUFBZVosRUFBSyxVQUVwQyxDQUVBRyxhQUFBQSxDQUFjK0IsR0FDWixPQUFPTixNQUFNLEdBQUdsTCxLQUFLOEosMkJBQTRCLENBQy9Dc0IsT0FBUSxRQUNSbkIsUUFBU2pLLEtBQUtnSyxTQUNkcUIsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQkMsT0FBUUEsTUFFVHpKLE1BQU11SCxHQUNBdEosS0FBS2tLLGVBQWVaLEVBQUssVUFFcEMsQ0FFQW1DLFVBQUFBLENBQVdDLEVBQVdDLEdBQ3BCLE9BQU9ULE1BQU0sR0FBR2xMLEtBQUs4SixpQkFBa0IsQ0FDckNzQixPQUFRLE9BQ1JuQixRQUFTakssS0FBS2dLLFNBQ2RxQixLQUFNQyxLQUFLQyxVQUFVLENBQ25CckwsS0FBTXdMLEVBQ050TCxLQUFNdUwsTUFFUDVKLE1BQU11SCxHQUNBdEosS0FBS2tLLGVBQWVaLEVBQUssU0FFcEMsQ0FFQXNDLGFBQUFBLENBQWN0TCxHQUNaLE9BQU80SyxNQUFNLEdBQUdsTCxLQUFLOEosa0JBQWtCeEosSUFBTyxDQUM1QzhLLE9BQVEsU0FDUm5CLFFBQVNqSyxLQUFLZ0ssV0FDYmpJLE1BQU11SCxHQUNBdEosS0FBS2tLLGVBQWVaLEVBQUssV0FFcEMsQ0FFQWxILFVBQUFBLENBQVc5QixHQUNULE9BQU80SyxNQUFNLEdBQUdsTCxLQUFLOEosa0JBQWtCeEosVUFBYSxDQUNsRDhLLE9BQVEsTUFDUm5CLFFBQVNqSyxLQUFLZ0ssV0FDYmpJLE1BQU11SCxHQUNBdEosS0FBS2tLLGVBQWVaLEVBQUssUUFFcEMsQ0FFQXhILGFBQUFBLENBQWN4QixHQUNaLE9BQU80SyxNQUFNLEdBQUdsTCxLQUFLOEosa0JBQWtCeEosVUFBYSxDQUNsRDhLLE9BQVEsU0FDUm5CLFFBQVNqSyxLQUFLZ0ssV0FDYmpJLE1BQU11SCxHQUNBdEosS0FBS2tLLGVBQWVaLEVBQUssV0FFcEMsR0RsQnNCLENBQ3RCUyxRQUFTLGtEQUNURSxRQUFTLENBQ1A0QixjQUFlLHVDQUNmLGVBQWdCLHNCQUlkQyxFQUFXLElFMUdGLE1BQ2JwTSxXQUFBQSxDQUFZcU0sR0FDVi9MLEtBQUtnTSxTQUFXRCxFQUNoQi9MLEtBQUtpTSxXQUFhLElBQ3BCLENBRUFDLGVBQUFBLEdBQ0UsTUFBTyxDQUNMaE0sS0FBTUYsS0FBS2dNLFNBQVMzRCxRQUFROUYsWUFDNUI0SSxNQUFPbkwsS0FBS2dNLFNBQVMxRCxTQUFTL0YsWUFDOUJpSixPQUFReEwsS0FBS2dNLFNBQVM1RCxVQUFVOUYsSUFFcEMsQ0FFQTZKLGNBQUFBLENBQWVDLEdBQ2IsSUFBSUMsRUFBWUQsRUFBVVosUUFBVVksRUFBVWpFLFlBQzFDbUUsRUFBVUYsRUFBVWxNLE1BQVFrTSxFQUFVbkUsVUFDdENzRSxFQUFXSCxFQUFVakIsT0FBU2lCLEVBQVVsRSxXQUN4Q3NFLEVBQVFKLEVBQVU5TCxJQWF0QixPQVhJK0wsSUFDRnJNLEtBQUtnTSxTQUFTNUQsVUFBVTlGLElBQU0rSixHQUU1QkMsSUFDRnRNLEtBQUtnTSxTQUFTM0QsUUFBUTlGLFlBQWMrSixHQUVsQ0MsSUFDRnZNLEtBQUtnTSxTQUFTMUQsU0FBUy9GLFlBQWNnSyxHQUVuQ0MsSUFBT3hNLEtBQUtpTSxXQUFhTyxHQUV0QixDQUNMaEIsT0FBUWEsRUFDUm5NLEtBQU1vTSxFQUNObkIsTUFBT29CLEVBQ1BqTSxJQUFLa00sRUFFVCxDQUVBQyxZQUFBQSxHQUNFLE1BQU1DLEVBQVcxTSxLQUFLa00sa0JBQ3RCbE0sS0FBS2dNLFNBQVMvRCxVQUFVVCxNQUFRLEdBQUdrRixFQUFTeE0sT0FDNUNGLEtBQUtnTSxTQUFTOUQsV0FBV1YsTUFBUSxHQUFHa0YsRUFBU3ZCLE9BQy9DLEdGK0Q0Qm5ELEdBK0JIdkYsTUE3QjNCMkcsRUFDR3lCLGdCQUNBOUksTUFBTXVILElBQ0wsSUFBS3FELEVBQWFDLEdBQWdCdEQsRUFDbEMsTUFBTyxDQUFFcUQsY0FBYUMsZUFBYyxJQUVyQzdLLE1BQU11SCxJQUNMLE1BQU11RCxFQUFZZixFQUFTSyxlQUFlN0MsRUFBSXFELGFBQWFyTSxJQVczRCxPQVZBbUksRUFBZ0JhLEVBQUlxRCxZQUNwQmIsRUFBU0ssZUFBZTFELEdBQ3hCRCxFQUFZLElBQUl2RCxFQUNkLENBQ0VFLE1BQU9tRSxFQUFJc0QsYUFDWHhILFNBQVV1RSxHQUVaLHlCQUVGbkIsRUFBVWhELGNBQ0hxSCxDQUFTLElBRWpCN0ssT0FBT0MsSUFDTnFJLFFBQVFDLE1BQU10SSxHQUNkZ0osTUFBTSxpQkFBaUJoSix1QkFBeUIsSUFPekJRLEVEdklPLENBQ2hDcUssYUFBYyxlQUNkbEssY0FBZSxnQkFDZkUscUJBQXNCLGlCQUN0QkUsb0JBQXFCLHlCQUNyQkUsZ0JBQWlCLGVBQ2pCRSxXQUFZLHdCQ2tJSzJKLE1BQU1DLEtBQUs3TCxTQUFTb0MsaUJBQWlCZCxFQUFTcUssZUFDdERwSixTQUFTaEIsSUFDaEIsTUFBTXVLLEVBQVksSUFBSXpLLEVBQWNDLEVBQVVDLEdBQ3hDd0ssRUFBV3hLLEVBQU95SyxhQUFhLFFBQ3JDNUUsRUFBZTJFLEdBQVlELEVBQzNCQSxFQUFVckksa0JBQWtCLElBTWhDMkQsRUFBZVosRUFBZ0J3RixhQUFhLFNBQVN2SSxtQkFDckQyRCxFQUFlWCxFQUFhdUYsYUFBYSxTQUFTdkksbUJBQ2xEMkQsRUFBZWQsRUFBZTBGLGFBQWEsU0FBU3ZJLG1CQUVwRCxNQUFNd0ksRUFBb0IsSUd6SlgsY0FBNkJ2SCxFQUMxQ25HLFdBQUFBLENBQVlvRyxHQUNWYSxNQUFNYixHQUNOOUYsS0FBS3FOLGNBQWdCck4sS0FBSytGLE9BQU8zRSxjQUFjLGlCQUMvQ3BCLEtBQUtzTixhQUFldE4sS0FBSytGLE9BQU8zRSxjQUFjLGVBQ2hELENBRUFpRixJQUFBQSxDQUFJbkIsR0FBaUIsSUFBaEIsS0FBRWhGLEVBQUksS0FBRUUsR0FBTThFLEVBQ2pCbEYsS0FBS3FOLGNBQWMvSyxJQUFNbEMsRUFDekJKLEtBQUtxTixjQUFjRSxJQUFNck4sRUFDekJGLEtBQUtzTixhQUFhL0ssWUFBY3JDLEVBQ2hDeUcsTUFBTU4sTUFDUixHSDZJMkMscUJBSXZDbUgsRUFBa0IsSUFBSS9HLEVBQWMsQ0FDeENYLGNBQWUsZUFDZlksaUJBQW1CK0csSUFDakJELEVBQWdCcEcsZUFBYyxHQUM5QndCLEVBQVM2RSxHQUNOMUwsTUFBTXVILElBQ0x3QyxFQUFTSyxlQUFlN0MsR0FFeEJmLEVBQ0VkLEVBQWUwRixhQUFhLFNBQzVCckksdUJBQXNCLEdBQ3hCMEksRUFBZ0JwSCxRQUNoQm9ILEVBQWdCcEcsZUFBYyxFQUFNLElBRXJDcEYsT0FBT0MsSUFDTnFJLFFBQVFDLE1BQU10SSxHQUNkdUwsRUFBZ0JwRyxlQUFjLEdBQ3ZCbEYsUUFBUUMsT0FBTyxHQUFHRixPQUN6QixJQUlGeUwsRUFBbUIsSUFBSWpILEVBQWMsQ0FDekNYLGNBQWUsZ0JBQ2ZZLGlCQUFtQitHLElBQ2pCQyxFQUFpQnRHLGVBQWMsR0FDL0J3QixFQUFTNkUsR0FDTjFMLE1BQU11SCxJQUNMd0MsRUFBU0ssZUFBZTdDLEdBQ3hCZixFQUNFWixFQUFnQndGLGFBQWEsU0FDN0JySSx1QkFBc0IsR0FDeEI0SSxFQUFpQnRILFFBQ2pCc0gsRUFBaUJ0RyxlQUFjLEVBQU0sSUFFdENwRixPQUFPQyxJQUNOcUksUUFBUUMsTUFBTXRJLEdBQ2R5TCxFQUFpQnRHLGVBQWMsR0FDL0I2RCxNQUFNLEdBQUdoSixJQUFNLEdBQ2YsSUFJRjBMLEVBQWdCLElBQUlsSCxFQUFjLENBQ3RDWCxjQUFlLGdCQUNmWSxpQkFBbUIrRyxJQUNqQkUsRUFBY3ZHLGVBQWMsR0FDNUJnQyxFQUNHcUMsV0FBV2dDLEVBQVcvQixVQUFXK0IsRUFBV0csVUFDNUM3TCxNQUFNdUgsSUFDTEssRUFBVyxDQUFFekosS0FBTW9KLEVBQUlwSixLQUFNRSxLQUFNa0osRUFBSWxKLE9BR3ZDbUksRUFBZVgsRUFBYXVGLGFBQWEsU0FBU3JJLHVCQUNoRCxHQUVGNkksRUFBY3ZILFFBQ2R1SCxFQUFjdkcsZUFBYyxFQUFNLElBRW5DcEYsT0FBT0MsSUFDTnFJLFFBQVFDLE1BQU10SSxHQUNkMEwsRUFBY3ZHLGVBQWMsR0FDNUI2RCxNQUFNLEdBQUdoSixJQUFNLEdBQ2YsSUFJRjRMLEVBQWtCLElBQUlwSCxFQUFjLENBQ3hDWCxjQUFlLG1CQUNmWSxpQkFBa0JBLENBQUNvSCxFQUFHbEUsRUFBY21FLEtBR2xDM0UsRUFDR3dDLGNBQWNtQyxHQUNkaE0sTUFBSyxLQUVKNkgsRUFBYWpJLG1CQUNia00sRUFBZ0J6SCxPQUFPLElBRXhCcEUsT0FBT0MsSUFDTnFJLFFBQVFDLE1BQU10SSxHQUNkZ0osTUFBTSxHQUFHaEosSUFBTSxHQUNmLElBaUNSLFNBQVNwQyxFQUFtQm1PLEdBQzFCLE1BQU05TixFQUFPOE4sRUFBWTVNLGNBQWMsZUFBZW1CLFlBQ2hEbkMsRUFBTzROLEVBQVk1TSxjQUFjLGdCQUFnQmtCLElBQ3ZEOEssRUFBa0IvRyxLQUFLLENBQUVuRyxPQUFNRSxRQUNqQyxDQUVBLFNBQVNOLEVBQWM4SixHQUNyQixNQUFNbUUsRUFBU25FLEVBQWF2SixRQUM1QndOLEVBQWdCeEgsS0FBS3VELEVBQWNtRSxFQUNyQyxDQXBDQVgsRUFBa0JsSCxvQkFDbEJ3SCxFQUFpQnhILG9CQUNqQnNILEVBQWdCdEgsb0JBQ2hCeUgsRUFBY3pILG9CQUNkMkgsRUFBZ0IzSCxvQkFFaEIyQixFQUFpQmhILGlCQUFpQixTQUFTLEtBQ3pDMEgsRUFBZWQsRUFBZTBGLGFBQWEsU0FBU3JJLHVCQUNsRCxHQUVGMEksRUFBZ0JuSCxNQUFNLElBR3hCeUIsRUFBa0JqSCxpQkFBaUIsU0FBUyxLQUMxQ2lMLEVBQVNXLGVBQ1RsRSxFQUFlWixFQUFnQndGLGFBQWEsU0FBU3JJLHVCQUNuRCxHQUVGNEksRUFBaUJySCxNQUFNLElBR3pCMEIsRUFBZWxILGlCQUFpQixTQUFTLEtBQ3ZDOE0sRUFBY3RILE1BQU0sRyIsInNvdXJjZXMiOlsid2VicGFjazovL0Fyb3VuZCB0aGUgVS5TLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9Bcm91bmQgdGhlIFUuUy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vQXJvdW5kIHRoZSBVLlMvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL0Fyb3VuZCB0aGUgVS5TLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vQXJvdW5kIHRoZSBVLlMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL0Fyb3VuZCB0aGUgVS5TLy4vc3JjL3V0aWxzL3V0aWxzLmpzIiwid2VicGFjazovL0Fyb3VuZCB0aGUgVS5TLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL0Fyb3VuZCB0aGUgVS5TLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL0Fyb3VuZCB0aGUgVS5TLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vQXJvdW5kIHRoZSBVLlMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGRhdGEsXHJcbiAgICBjYXJkU2VsZWN0b3IsXHJcbiAgICBoYW5kbGVQcmV2aWV3SW1hZ2UsXHJcbiAgICBwcmVwYXJlRGVsZXRlLFxyXG4gICAgYXBpSW5zdGFuY2VcclxuICApIHtcclxuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fY2FyZElkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVQcmV2aWV3SW1hZ2UgPSBoYW5kbGVQcmV2aWV3SW1hZ2U7XHJcbiAgICB0aGlzLl9wcmVwYXJlRGVsZXRlID0gcHJlcGFyZURlbGV0ZTtcclxuICAgIHRoaXMuX2FwaSA9IGFwaUluc3RhbmNlO1xyXG4gIH1cclxuXHJcbiAgLy8gTGlzdGVuZXJzXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX3ByZXBhcmVEZWxldGUodGhpcyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VJY29uKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlUHJldmlld0ltYWdlKHRoaXMuX2NhcmRFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gRE9NIE1ldGhvZHNcclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUxpa2VJY29uKCkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gIH1cclxuXHJcbiAgLy8gSGFuZGxlcnNcclxuICBoYW5kbGVEZWxldGVDYXJkKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTGlrZUljb24oKSB7XHJcbiAgICBpZiAodGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIikpIHtcclxuICAgICAgdGhpcy5fYXBpXHJcbiAgICAgICAgLmRlbGV0ZUxpa2VBcGkodGhpcy5fY2FyZElkKVxyXG4gICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgIHRoaXMuX3RvZ2dsZUxpa2VJY29uKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGAke2Vycn1gKTtcclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2FwaVxyXG4gICAgICAgIC5hZGRMaWtlQXBpKHRoaXMuX2NhcmRJZClcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl90b2dnbGVMaWtlSWNvbigpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgJHtlcnJ9YCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL1NFQ1RJT04gLSBQdWJsaWMgTWV0aG9kc1xyXG5cclxuICAvLyBVSSBNZXRob2RzXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5jYXJkX19kZWxldGUtYnV0dG9uXCJcclxuICAgICk7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190ZXh0XCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbCkge1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcclxuXHJcbiAgICB0aGlzLl9mb3JtRWwgPSBmb3JtRWw7XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gWy4uLnRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ0biA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIC8vTGlzdGVuZXJzXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xyXG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gVUkgTWFuaXB1bGF0aW9uXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKCF0aGlzLl9oYXNWYWxpZElucHV0KHRoaXMuX2lucHV0TGlzdCkpIHtcclxuICAgICAgdGhpcy5fZGlzYWJsZUJ1dHRvbigpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLl9lbmFibGVCdXR0b24oKTtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCkge1xyXG4gICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgIH1cclxuICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xyXG4gIH1cclxuXHJcbiAgX2VuYWJsZUJ1dHRvbigpIHtcclxuICAgIGlmICh0aGlzLl9oYXNWYWxpZElucHV0KFsuLi50aGlzLl9pbnB1dExpc3RdKSkge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdG4uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fc3VibWl0QnRuLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfZGlzYWJsZUJ1dHRvbigpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ0bi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fc3VibWl0QnRuLmRpc2FibGVkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsKSB7XHJcbiAgICB0aGlzLl9lcnJvckVsID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9RXJyb3JgKTtcclxuICAgIHRoaXMuX2Vycm9yRWwudGV4dENvbnRlbnQgPSBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgdGhpcy5fZXJyb3JFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpIHtcclxuICAgIHRoaXMuX2Vycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9RXJyb3JgKTtcclxuICAgIHRoaXMuX2Vycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIHRoaXMuX2Vycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICAvLyBDb25kaXRpb25zXHJcbiAgX2hhc1ZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LmV2ZXJ5KChpbnB1dEVsKSA9PiBpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKTtcclxuICB9XHJcblxyXG4gIC8vIERPTSBNYW5pcHVsYXRpb25cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgLy8gSGFuZGxlcnNcclxuICBoYW5kbGVSZXNldFZhbGlkYXRpb24oc2hvdWxkUmVzZXRGaWVsZHMpIHtcclxuICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgIH0pO1xyXG4gICAgaWYgKHNob3VsZFJlc2V0RmllbGRzID09PSB0cnVlKSB7XHJcbiAgICAgIHRoaXMuX2Zvcm1FbC5yZXNldCgpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjYXJkU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2luaXRpYWxBcnJheSA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2FyZFNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5faW5pdGlhbEFycmF5LmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlXCIpIHx8XHJcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfb3BlbmVkXCIpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuXHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX3N1Ym1pdEJ0biA9IHRoaXMuX3BvcHVwXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zdWJtaXRcIik7XHJcbiAgICAvLyBjdXJyZW50bHkgZmluZHMgYW5kIHVwZGF0ZXMgZXZlcnkgbW9kYWwgYnV0dG9uLCBub3Qgc3BlY2lmaWMgdG8gdGhpcy5fcG9wdXA/XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpLCB0aGlzLmluc3RhbmNlLCB0aGlzLmlkKTtcclxuICAgICAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKS5yZXNldCgpO1xyXG4gICAgfSk7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgb3BlbihpbnN0YW5jZU9wdCA9IG51bGwsIGlkT3B0ID0gbnVsbCkge1xyXG4gICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlT3B0O1xyXG4gICAgdGhpcy5pZCA9IGlkT3B0O1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcpIHtcclxuICAgIGlmIChpc0xvYWRpbmcpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnRuLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XHJcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcclxuICB9XHJcbn1cclxuIiwiLy8gT3RoZXIgY29kZSwgc3VjaCBhcyB0aGUgYXJyYXkgb2YgaW5pdGlhbCBjYXJkcyBhbmQgYW55IGNvbmZpZ3VyYXRpb24gb2JqZWN0cyB5b3UgYXJlIHVzaW5nLCBzaG91bGQgYmUgbW92ZWQgdG8gYSBzZXBhcmF0ZSB1dGlscy9jb25zdGFudHMuanMgZmlsZSBhbmQgaW1wb3J0ZWQgaW50byBpbmRleC5qcy5cclxuXHJcbi8vIGNyZWRpdCBodHRwczovL2F2YXRhci1wbGFjZWhvbGRlci5pcmFuLmxpYXJhLnJ1bi9hdmF0YXJzL2ZlbWFsZVxyXG5cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25TZXR0aW5ncyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zdWJtaXRcIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zdWJtaXRfaW5hY3RpdmVcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxyXG59O1xyXG5cclxuLy9TRUNUSU9OIC0gVmFyaWFibGVzXHJcblxyXG4vL1dyYXBwZXJzXHJcbmV4cG9ydCBjb25zdCBhdmF0YXJFZGl0Rm9ybSA9IGRvY3VtZW50LmZvcm1zW1wiYXZhdGFyRWRpdEZvcm1cIl07XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcInByb2ZpbGVFZGl0Rm9ybVwiXTtcclxuZXhwb3J0IGNvbnN0IGNhcmRFZGl0Rm9ybSA9IGRvY3VtZW50LmZvcm1zW1wiY2FyZEVkaXRGb3JtXCJdO1xyXG5leHBvcnQgY29uc3QgY2FyZERlbGV0ZUZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcImNhcmREZWxldGVGb3JtXCJdO1xyXG5cclxuLy8gQnV0dG9ucyBhbmQgRE9NIE5vZGVzXHJcbmV4cG9ydCBjb25zdCBhdmF0YXJFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIiNwcm9maWxlLWltYWdlLWVkaXQtYnV0dG9uXCJcclxuKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtYnV0dG9uXCIpO1xyXG5leHBvcnQgY29uc3QgY2FyZEVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtZWRpdC1idXR0b25cIik7XHJcbmV4cG9ydCBjb25zdCBjYXJkRGVsZXRlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgXCIjY2FyZC1kZWxldGUtYnV0dG9uXCJcclxuKTtcclxuXHJcbmV4cG9ydCBjb25zdCB1c2VyTm9kZXMgPSB7XHJcbiAgLy8gY29sbGVjdHMgRE9NIE5vZGVzIGZvciBQcm9maWxlIFNlY3Rpb24gKCsgX2lkKVxyXG4gIG5hbWVJbnB1dDogcHJvZmlsZUVkaXRGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZUlucHV0XCIpLFxyXG4gIGFib3V0SW5wdXQ6IHByb2ZpbGVFZGl0Rm9ybS5xdWVyeVNlbGVjdG9yKFwiI2Fib3V0SW5wdXRcIiksXHJcbiAgYXZhdGFySW5wdXQ6IGF2YXRhckVkaXRGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFySW5wdXRcIiksXHJcbiAgY3VyQXZhdGFyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlLXBpY1wiKSxcclxuICBjdXJOYW1lOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RpdGxlXCIpLFxyXG4gIGN1ckFib3V0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Fib3V0XCIpLFxyXG59O1xyXG4iLCIvLyB3aGVuIGNhbGxpbmcgYSBtZXRob2Qgb24gYXBpLCB5b3UgYXJlIGV4cGVjdGluZyBpdCB0byByZXR1cm4gYSBwcm9taXNlIHlvdSBjYW4gY2hhaW4gLnRoZW4gdG9cclxuLy8gLnRoZW4gaXMgd2hhdCB5b3UgZG8gb24gdGhlIHBhZ2Ugb25jZSB0aGUgcmVzcG9uc2Ugd2FzIHN1Y2Nlc3NmdWxcclxuLy9GSVhNRSAtIFRFU1QgQUxMIC0gY2hlY2sgdGhlIGxpa2UvZGlzbGlrZSBidXR0b24gb24gY2FyZHNcclxuXHJcbi8vU0VDVElPTiAtIEltcG9ydHNcclxuXHJcbi8vIFdlYnBhY2tcclxuaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XHJcblxyXG4vLyBDbGFzc2VzXHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5cclxuLy8gQ29uc3RhbnRzXHJcblxyXG5pbXBvcnQge1xyXG4gIHZhbGlkYXRpb25TZXR0aW5ncyxcclxuICB1c2VyTm9kZXMsXHJcbiAgYXZhdGFyRWRpdEZvcm0sXHJcbiAgcHJvZmlsZUVkaXRGb3JtLFxyXG4gIGNhcmRFZGl0Rm9ybSxcclxuICBhdmF0YXJFZGl0QnV0dG9uLFxyXG4gIHByb2ZpbGVFZGl0QnV0dG9uLFxyXG4gIGNhcmRFZGl0QnV0dG9uLFxyXG59IGZyb20gXCIuLi91dGlscy91dGlscy5qc1wiO1xyXG5cclxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcclxuXHJcbi8vIFZhcmlhYmxlc1xyXG5sZXQgY2FyZHNMaXN0O1xyXG5sZXQgcHJvZmlsZVJlbmRlcjtcclxubGV0IGN1clVzZXJQcm9maWxlO1xyXG5sZXQgY3VyVXNlckF2YXRhcjtcclxuXHJcbi8vU0VDVElPTiAtIENhbGxiYWNrc1xyXG5cclxuY29uc3QgZ2V0UGF0Y2ggPSAoZG9tVmFsdWVzKSA9PiB7XHJcbiAgY29uc3QgbW9kYWxTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfb3BlbmVkXCIpO1xyXG5cclxuICBjb25zdCBtb2RhbEtleSA9IG1vZGFsU2VsZWN0b3IuaWQ7XHJcblxyXG4gIGNvbnN0IGhhbmRsZXJzID0ge1xyXG4gICAgcHJvZmlsZU1vZGFsOiAoKSA9PiB7XHJcbiAgICAgIGxldCB2YWx1ZXMgPSB7XHJcbiAgICAgICAgbmV3TmFtZTogZG9tVmFsdWVzLm5hbWVJbnB1dCxcclxuICAgICAgICBuZXdBYm91dDogZG9tVmFsdWVzLmFib3V0SW5wdXQsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXR1cm4gcGFnZUFwaVxyXG4gICAgICAgIC5lZGl0VXNlckFwaSh2YWx1ZXMubmV3TmFtZSwgdmFsdWVzLm5ld0Fib3V0KVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIHJldHVybiAoY3VyVXNlclByb2ZpbGUgPSByZXMpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgYnJva2VuIGNhbGwgZnJvbSBpbmRleDU3OiAke2Vycn1gKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgYXZhdGFyTW9kYWw6ICgpID0+IHtcclxuICAgICAgbGV0IHZhbHVlcyA9IHsgbmV3QXZhdGFyOiBkb21WYWx1ZXMuYXZhdGFySW5wdXQgfTtcclxuXHJcbiAgICAgIHJldHVybiBwYWdlQXBpXHJcbiAgICAgICAgLmVkaXRBdmF0YXJBcGkodmFsdWVzLm5ld0F2YXRhcilcclxuICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gKGN1clVzZXJBdmF0YXIgPSByZXMpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgYnJva2VuIGNhbGwgZnJvbSBpbmRleDcwOiAke2Vycn1gKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlciA9IGhhbmRsZXJzW21vZGFsS2V5XTtcclxuXHJcbiAgaWYgKCFoYW5kbGVyKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGhhbmRsZXIgZGVmaW5lZCBmb3IgbW9kYWwgdHlwZTogJHttb2RhbEtleX1gKTtcclxuICB9XHJcbiAgcmV0dXJuIGhhbmRsZXIoKTtcclxufTtcclxuXHJcbmNvbnN0IHJlbmRlckNhcmQgPSAoaXRlbSkgPT4ge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIGl0ZW0sXHJcbiAgICBcIiNjYXJkLWluc3RhbmNlLXRlbXBsYXRlXCIsXHJcbiAgICBoYW5kbGVQcmV2aWV3SW1hZ2UsXHJcbiAgICBwcmVwYXJlRGVsZXRlLFxyXG4gICAgcGFnZUFwaVxyXG4gICk7XHJcbiAgY29uc3QgY2FyZEluc3RhbmNlID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICBjYXJkc0xpc3QuYWRkSXRlbShjYXJkSW5zdGFuY2UpO1xyXG4gIHJldHVybiBjYXJkSW5zdGFuY2U7XHJcbn07XHJcblxyXG4vL1NFQ1RJT04gLSBTZXR1cFxyXG5cclxuY29uc3QgcGFnZUFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcImUzMTVlOTJmLTdkMWItNDNmMi1iMDU3LWNkY2ExNzY5ZTQwY1wiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh1c2VyTm9kZXMpO1xyXG5cclxucGFnZUFwaVxyXG4gIC5hcGlQcm9taXNlQWxsKClcclxuICAudGhlbigocmVzKSA9PiB7XHJcbiAgICBsZXQgW2luaXRpYWxVc2VyLCBpbml0aWFsQ2FyZHNdID0gcmVzO1xyXG4gICAgcmV0dXJuIHsgaW5pdGlhbFVzZXIsIGluaXRpYWxDYXJkcyB9O1xyXG4gIH0pXHJcbiAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgY29uc3QgcHJvZmlsZUlkID0gdXNlckluZm8uc2V0Q3VycmVudFVzZXIocmVzLmluaXRpYWxVc2VyKS5faWQ7XHJcbiAgICBwcm9maWxlUmVuZGVyID0gcmVzLmluaXRpYWxVc2VyO1xyXG4gICAgdXNlckluZm8uc2V0Q3VycmVudFVzZXIocHJvZmlsZVJlbmRlcik7XHJcbiAgICBjYXJkc0xpc3QgPSBuZXcgU2VjdGlvbihcclxuICAgICAge1xyXG4gICAgICAgIGl0ZW1zOiByZXMuaW5pdGlhbENhcmRzLFxyXG4gICAgICAgIHJlbmRlcmVyOiByZW5kZXJDYXJkLFxyXG4gICAgICB9LFxyXG4gICAgICBcIiNjYXJkLXNlY3Rpb24td3JhcHBlclwiXHJcbiAgICApO1xyXG4gICAgY2FyZHNMaXN0LnJlbmRlckl0ZW1zKCk7XHJcbiAgICByZXR1cm4gcHJvZmlsZUlkO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIGFsZXJ0KGBTZXJ2ZXIgZXJyb3I6ICR7ZXJyfSwgcGxlYXNlIHRyeSBhZ2Fpbi5gKTtcclxuICAgIC8vRklYTUUgLSBXaGF0IGlmIHNldmVyYWwgZXJyb3JzP1xyXG4gIH0pO1xyXG5cclxuLy8gSW5zdGFuY2VzP1xyXG4vLyBJbml0aWFsaXphdGlvbnM/XHJcblxyXG5jb25zdCBhbnlGb3JtVmFsaWRhdGlvbiA9IChzZXR0aW5ncykgPT4ge1xyXG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNldHRpbmdzLmZvcm1TZWxlY3RvcikpO1xyXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbCkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGZvcm1FbCk7XHJcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xyXG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xyXG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICB9KTtcclxufTtcclxuXHJcbmFueUZvcm1WYWxpZGF0aW9uKHZhbGlkYXRpb25TZXR0aW5ncyk7XHJcblxyXG5mb3JtVmFsaWRhdG9yc1twcm9maWxlRWRpdEZvcm0uZ2V0QXR0cmlidXRlKFwibmFtZVwiKV0uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5mb3JtVmFsaWRhdG9yc1tjYXJkRWRpdEZvcm0uZ2V0QXR0cmlidXRlKFwibmFtZVwiKV0uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5mb3JtVmFsaWRhdG9yc1thdmF0YXJFZGl0Rm9ybS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpXS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBwcmV2aWV3SW1hZ2VNb2RhbCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNjYXJkRGlzcGxheU1vZGFsXCIpO1xyXG5cclxuLy8gY29kZSBkdXBsaWNhdGlvbiB0aG91Z2h0czogYm90aCBQb3B1cFdpdGhGb3JtIGluc3RhbmNlcyBhcmUgc3VwZXIgc2ltaWxhciBoZXJlLCBlc3BlY2lhbGx5IGluIHRoZSAudGhlbiBhbmQgLmNhdGNoXHJcblxyXG5jb25zdCBhdmF0YXJFZGl0TW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIjYXZhdGFyTW9kYWxcIixcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoZm9ybVZhbHVlcykgPT4ge1xyXG4gICAgYXZhdGFyRWRpdE1vZGFsLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgICBnZXRQYXRjaChmb3JtVmFsdWVzKVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgdXNlckluZm8uc2V0Q3VycmVudFVzZXIocmVzKTtcclxuICAgICAgICAvL1JFVklFVyAtIGRvZXMgdGhpcyBhY3R1YWxseSB1cGRhdGUgYW55dGhpbmcgaW4gVUk/XHJcbiAgICAgICAgZm9ybVZhbGlkYXRvcnNbXHJcbiAgICAgICAgICBhdmF0YXJFZGl0Rm9ybS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpXHJcbiAgICAgICAgXS5oYW5kbGVSZXNldFZhbGlkYXRpb24odHJ1ZSk7XHJcbiAgICAgICAgYXZhdGFyRWRpdE1vZGFsLmNsb3NlKCk7XHJcbiAgICAgICAgYXZhdGFyRWRpdE1vZGFsLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICBhdmF0YXJFZGl0TW9kYWwucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGAke2Vycn1gKTtcclxuICAgICAgfSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5jb25zdCBwcm9maWxlRWRpdE1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiI3Byb2ZpbGVNb2RhbFwiLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChmb3JtVmFsdWVzKSA9PiB7XHJcbiAgICBwcm9maWxlRWRpdE1vZGFsLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgICBnZXRQYXRjaChmb3JtVmFsdWVzKVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgdXNlckluZm8uc2V0Q3VycmVudFVzZXIocmVzKTtcclxuICAgICAgICBmb3JtVmFsaWRhdG9yc1tcclxuICAgICAgICAgIHByb2ZpbGVFZGl0Rm9ybS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpXHJcbiAgICAgICAgXS5oYW5kbGVSZXNldFZhbGlkYXRpb24odHJ1ZSk7XHJcbiAgICAgICAgcHJvZmlsZUVkaXRNb2RhbC5jbG9zZSgpO1xyXG4gICAgICAgIHByb2ZpbGVFZGl0TW9kYWwucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgIHByb2ZpbGVFZGl0TW9kYWwucmVuZGVyTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgYWxlcnQoYCR7ZXJyfWApO1xyXG4gICAgICB9KTtcclxuICB9LFxyXG59KTtcclxuXHJcbmNvbnN0IGNhcmRFZGl0TW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIjY2FyZEFkZE1vZGFsXCIsXHJcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGZvcm1WYWx1ZXMpID0+IHtcclxuICAgIGNhcmRFZGl0TW9kYWwucmVuZGVyTG9hZGluZyh0cnVlKTtcclxuICAgIHBhZ2VBcGlcclxuICAgICAgLmFkZENhcmRBcGkoZm9ybVZhbHVlcy5jYXJkVGl0bGUsIGZvcm1WYWx1ZXMuaW1hZ2VVcmwpXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICByZW5kZXJDYXJkKHsgbmFtZTogcmVzLm5hbWUsIGxpbms6IHJlcy5saW5rIH0pO1xyXG4gICAgICAgIC8vIHB1bGxzICdpdGVtJyBmcm9tIHRoZSByZXMgZm9yIHJlbmRlckNhcmQsIHNlbmRzIHRvIHRoZSBDYXJkIGNvbnN0cnVjdG9yICdkYXRhJ1xyXG4gICAgICAgIC8vIGRhdGEgc2hvdWxkIGluY2x1ZGUgdGhlIHByb3BlcnRpZXM6IG5hbWUsIGxpbmssIF9pZFxyXG4gICAgICAgIGZvcm1WYWxpZGF0b3JzW2NhcmRFZGl0Rm9ybS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpXS5oYW5kbGVSZXNldFZhbGlkYXRpb24oXHJcbiAgICAgICAgICB0cnVlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjYXJkRWRpdE1vZGFsLmNsb3NlKCk7XHJcbiAgICAgICAgY2FyZEVkaXRNb2RhbC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgY2FyZEVkaXRNb2RhbC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICBhbGVydChgJHtlcnJ9YCk7XHJcbiAgICAgIH0pO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgY2FyZERlbGV0ZU1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiI2NhcmREZWxldGVNb2RhbFwiLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChfLCBjYXJkSW5zdGFuY2UsIGNhcmRJZCkgPT4ge1xyXG4gICAgLy8gcGFyYW1zOiAxLiBmb3JtVmFsdWVzIChOQSksIDIuIGZ1bGwgY2FyZCBpbnN0YW5jZSwgMy4gZXh0cmFjdGVkIF9jYXJkSWQgZm9yIEFQSVxyXG5cclxuICAgIHBhZ2VBcGlcclxuICAgICAgLmRlbGV0ZUNhcmRBcGkoY2FyZElkKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgLy9SRVZJRVcgLSBkbyBpIG5lZWQgdGhlIHJlcyBhbnl3aGVyZT9cclxuICAgICAgICBjYXJkSW5zdGFuY2UuaGFuZGxlRGVsZXRlQ2FyZCgpO1xyXG4gICAgICAgIGNhcmREZWxldGVNb2RhbC5jbG9zZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICBhbGVydChgJHtlcnJ9YCk7XHJcbiAgICAgIH0pO1xyXG4gIH0sXHJcbn0pO1xyXG5cclxuLy9TRUNUSU9OIC0gTGlzdGVuZXJzXHJcblxyXG5wcmV2aWV3SW1hZ2VNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wcm9maWxlRWRpdE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmF2YXRhckVkaXRNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5jYXJkRWRpdE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmNhcmREZWxldGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuYXZhdGFyRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGZvcm1WYWxpZGF0b3JzW2F2YXRhckVkaXRGb3JtLmdldEF0dHJpYnV0ZShcIm5hbWVcIildLmhhbmRsZVJlc2V0VmFsaWRhdGlvbihcclxuICAgIHRydWUgLy9SRVZJRVcgLSAgSSB0aGluayB3ZSBzaG91bGQgY2xlYXIgdGhlIHVybCBhbmQgdGhlIHZhbGlkYXRpb24sIGNvcnJlY3Q/XHJcbiAgKTtcclxuICBhdmF0YXJFZGl0TW9kYWwub3BlbigpO1xyXG59KTtcclxuXHJcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgdXNlckluZm8uZmlsbFVzZXJGb3JtKCk7XHJcbiAgZm9ybVZhbGlkYXRvcnNbcHJvZmlsZUVkaXRGb3JtLmdldEF0dHJpYnV0ZShcIm5hbWVcIildLmhhbmRsZVJlc2V0VmFsaWRhdGlvbihcclxuICAgIGZhbHNlXHJcbiAgKTtcclxuICBwcm9maWxlRWRpdE1vZGFsLm9wZW4oKTtcclxufSk7XHJcblxyXG5jYXJkRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNhcmRFZGl0TW9kYWwub3BlbigpO1xyXG59KTtcclxuXHJcbi8vU0VDVElPTiAtIEhhbmRsZXJzXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQcmV2aWV3SW1hZ2UoY2FyZEVsZW1lbnQpIHtcclxuICBjb25zdCBuYW1lID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190ZXh0XCIpLnRleHRDb250ZW50O1xyXG4gIGNvbnN0IGxpbmsgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpLnNyYztcclxuICBwcmV2aWV3SW1hZ2VNb2RhbC5vcGVuKHsgbmFtZSwgbGluayB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcHJlcGFyZURlbGV0ZShjYXJkSW5zdGFuY2UpIHtcclxuICBjb25zdCBjYXJkSWQgPSBjYXJkSW5zdGFuY2UuX2NhcmRJZDsgLy8gZXh0cmFjdCBmb3IgQVBJXHJcbiAgY2FyZERlbGV0ZU1vZGFsLm9wZW4oY2FyZEluc3RhbmNlLCBjYXJkSWQpOyAvLyBzZW5kcyBpbnN0YW5jZSBhbmQgSUQgdG8gdGhlIG1vZGFsXHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBjb25maWcuYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBjb25maWcuaGVhZGVycztcclxuICB9XHJcblxyXG4gIF9jaGVja1Jlc3BvbnNlKHJlcywgbWV0aG9kU3RyaW5nKSB7XHJcbiAgICBpZiAoIXJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBpZiAobWV0aG9kU3RyaW5nID09PSBcIlBPU1RcIikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkZ1bGwgZXJyb3IgcmVzcG9uc2U6XCIsIHJlcyk7XHJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5tZXNzYWdlfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobWV0aG9kU3RyaW5nID09PSBcIlBBVENIXCIpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGdWxsIGVycm9yIHJlc3BvbnNlOlwiLCByZXMpO1xyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxyXG4gICAgICAgICAgICBgRXJyb3I6ICR7cmVzLmVycm9yc1tPYmplY3Qua2V5cyhyZXMuZXJyb3JzKVswXV0ubWVzc2FnZX1gXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRnVsbCBlcnJvciByZXNwb25zZTpcIiwgcmVzKTtcclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhcGlQcm9taXNlQWxsKCkge1xyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldFVzZXJBcGkoKSwgdGhpcy5nZXRJbml0aWFsQ2FyZHMoKV0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICBhbGVydChcIlNvcnJ5LCBzb21ldGhpbmcgd2VudCB3cm9uZy5cIik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcywgXCJHRVRcIik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJBcGkoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzLCBcIkdFVFwiKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZWRpdFVzZXJBcGkobmFtZSwgYWJvdXQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGFib3V0OiBhYm91dCxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzLCBcIlBBVENIXCIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlZGl0QXZhdGFyQXBpKGF2YXRhcikge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGF2YXRhcixcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzLCBcIlBBVENIXCIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRDYXJkQXBpKGNhcmRUaXRsZSwgaW1hZ2VVUkwpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGNhcmRUaXRsZSxcclxuICAgICAgICBsaW5rOiBpbWFnZVVSTCxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzLCBcIlBPU1RcIik7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmRBcGkoX2lkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtfaWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzLCBcIkRFTEVURVwiKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkTGlrZUFwaShfaWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke19pZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMsIFwiUFVUXCIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVMaWtlQXBpKF9pZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7X2lkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcywgXCJERUxFVEVcIik7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiLy8gdG8gcmVuZGVyIHRvIHRoZSBET01cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih1c2VyT2JqKSB7XHJcbiAgICB0aGlzLl91c2VyT2JqID0gdXNlck9iajtcclxuICAgIHRoaXMuX3Byb2ZpbGVJZCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBfZ2V0Q3VycmVudFVzZXIoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl91c2VyT2JqLmN1ck5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGFib3V0OiB0aGlzLl91c2VyT2JqLmN1ckFib3V0LnRleHRDb250ZW50LFxyXG4gICAgICBhdmF0YXI6IHRoaXMuX3VzZXJPYmouY3VyQXZhdGFyLnNyYyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRDdXJyZW50VXNlcihpbnB1dFZhbHMpIHtcclxuICAgIGxldCBhdmF0YXJWYWwgPSBpbnB1dFZhbHMuYXZhdGFyIHx8IGlucHV0VmFscy5hdmF0YXJJbnB1dDtcclxuICAgIGxldCBuYW1lVmFsID0gaW5wdXRWYWxzLm5hbWUgfHwgaW5wdXRWYWxzLm5hbWVJbnB1dDtcclxuICAgIGxldCBhYm91dFZhbCA9IGlucHV0VmFscy5hYm91dCB8fCBpbnB1dFZhbHMuYWJvdXRJbnB1dDtcclxuICAgIGxldCBpZFZhbCA9IGlucHV0VmFscy5faWQ7XHJcblxyXG4gICAgaWYgKGF2YXRhclZhbCkge1xyXG4gICAgICB0aGlzLl91c2VyT2JqLmN1ckF2YXRhci5zcmMgPSBhdmF0YXJWYWw7XHJcbiAgICB9XHJcbiAgICBpZiAobmFtZVZhbCkge1xyXG4gICAgICB0aGlzLl91c2VyT2JqLmN1ck5hbWUudGV4dENvbnRlbnQgPSBuYW1lVmFsO1xyXG4gICAgfVxyXG4gICAgaWYgKGFib3V0VmFsKSB7XHJcbiAgICAgIHRoaXMuX3VzZXJPYmouY3VyQWJvdXQudGV4dENvbnRlbnQgPSBhYm91dFZhbDtcclxuICAgIH1cclxuICAgIGlmIChpZFZhbCkgdGhpcy5fcHJvZmlsZUlkID0gaWRWYWw7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgYXZhdGFyOiBhdmF0YXJWYWwsXHJcbiAgICAgIG5hbWU6IG5hbWVWYWwsXHJcbiAgICAgIGFib3V0OiBhYm91dFZhbCxcclxuICAgICAgX2lkOiBpZFZhbCxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmaWxsVXNlckZvcm0oKSB7XHJcbiAgICBjb25zdCBmb3JtVmFscyA9IHRoaXMuX2dldEN1cnJlbnRVc2VyKCk7XHJcbiAgICB0aGlzLl91c2VyT2JqLm5hbWVJbnB1dC52YWx1ZSA9IGAke2Zvcm1WYWxzLm5hbWV9YDtcclxuICAgIHRoaXMuX3VzZXJPYmouYWJvdXRJbnB1dC52YWx1ZSA9IGAke2Zvcm1WYWxzLmFib3V0fWA7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX3ByZXZpZXdUZXh0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fdGV4dFwiKTtcclxuICB9XHJcblxyXG4gIG9wZW4oeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHRoaXMuX3ByZXZpZXdJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fcHJldmlld0ltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9wcmV2aWV3VGV4dC50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlUHJldmlld0ltYWdlIiwicHJlcGFyZURlbGV0ZSIsImFwaUluc3RhbmNlIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkSWQiLCJfaWQiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZVByZXZpZXdJbWFnZSIsIl9wcmVwYXJlRGVsZXRlIiwiX2FwaSIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9kZWxldGVCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiX2xpa2VCdXR0b24iLCJfaGFuZGxlTGlrZUljb24iLCJfY2FyZEltYWdlIiwiX2NhcmRFbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImZpcnN0RWxlbWVudENoaWxkIiwiY2xvbmVOb2RlIiwiX3RvZ2dsZUxpa2VJY29uIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiaGFuZGxlRGVsZXRlQ2FyZCIsInJlbW92ZSIsImNvbnRhaW5zIiwiZGVsZXRlTGlrZUFwaSIsInRoZW4iLCJjYXRjaCIsImVyciIsIlByb21pc2UiLCJyZWplY3QiLCJhZGRMaWtlQXBpIiwiZ2VuZXJhdGVDYXJkIiwic3JjIiwidGV4dENvbnRlbnQiLCJGb3JtVmFsaWRhdG9yIiwic2V0dGluZ3MiLCJmb3JtRWwiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsIiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnRuIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsImlucHV0RWwiLCJlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9oYXNWYWxpZElucHV0IiwiX2VuYWJsZUJ1dHRvbiIsIl9kaXNhYmxlQnV0dG9uIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9zaG93SW5wdXRFcnJvciIsIl9oaWRlSW5wdXRFcnJvciIsImRpc2FibGVkIiwiYWRkIiwiX2Vycm9yRWwiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2Vycm9yTWVzc2FnZUVsIiwiZXZlcnkiLCJlbmFibGVWYWxpZGF0aW9uIiwicHJldmVudERlZmF1bHQiLCJoYW5kbGVSZXNldFZhbGlkYXRpb24iLCJzaG91bGRSZXNldEZpZWxkcyIsInJlc2V0IiwiU2VjdGlvbiIsIl9yZWYiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2luaXRpYWxBcnJheSIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJhZGRJdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjbG9zZSIsIm9wZW4iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5IiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2dldElucHV0VmFsdWVzIiwiaW5zdGFuY2UiLCJpbnN0YW5jZU9wdCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImlkT3B0IiwicmVuZGVyTG9hZGluZyIsImlzTG9hZGluZyIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsImF2YXRhckVkaXRGb3JtIiwiZm9ybXMiLCJwcm9maWxlRWRpdEZvcm0iLCJjYXJkRWRpdEZvcm0iLCJhdmF0YXJFZGl0QnV0dG9uIiwicHJvZmlsZUVkaXRCdXR0b24iLCJjYXJkRWRpdEJ1dHRvbiIsInVzZXJOb2RlcyIsIm5hbWVJbnB1dCIsImFib3V0SW5wdXQiLCJhdmF0YXJJbnB1dCIsImN1ckF2YXRhciIsImN1ck5hbWUiLCJjdXJBYm91dCIsImZvcm1WYWxpZGF0b3JzIiwiY2FyZHNMaXN0IiwicHJvZmlsZVJlbmRlciIsImN1clVzZXJQcm9maWxlIiwiY3VyVXNlckF2YXRhciIsImdldFBhdGNoIiwiZG9tVmFsdWVzIiwibW9kYWxLZXkiLCJoYW5kbGVyIiwicHJvZmlsZU1vZGFsIiwidmFsdWVzIiwibmV3TmFtZSIsIm5ld0Fib3V0IiwicGFnZUFwaSIsImVkaXRVc2VyQXBpIiwicmVzIiwiYXZhdGFyTW9kYWwiLCJuZXdBdmF0YXIiLCJlZGl0QXZhdGFyQXBpIiwiRXJyb3IiLCJyZW5kZXJDYXJkIiwiY2FyZEluc3RhbmNlIiwiY29uZmlnIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiX2NoZWNrUmVzcG9uc2UiLCJtZXRob2RTdHJpbmciLCJvayIsImpzb24iLCJjb25zb2xlIiwiZXJyb3IiLCJtZXNzYWdlIiwiZXJyb3JzIiwiT2JqZWN0Iiwia2V5cyIsInN0YXR1cyIsImFwaVByb21pc2VBbGwiLCJhbGwiLCJnZXRVc2VyQXBpIiwiZ2V0SW5pdGlhbENhcmRzIiwiYWxlcnQiLCJmZXRjaCIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhdmF0YXIiLCJhZGRDYXJkQXBpIiwiY2FyZFRpdGxlIiwiaW1hZ2VVUkwiLCJkZWxldGVDYXJkQXBpIiwiYXV0aG9yaXphdGlvbiIsInVzZXJJbmZvIiwidXNlck9iaiIsIl91c2VyT2JqIiwiX3Byb2ZpbGVJZCIsIl9nZXRDdXJyZW50VXNlciIsInNldEN1cnJlbnRVc2VyIiwiaW5wdXRWYWxzIiwiYXZhdGFyVmFsIiwibmFtZVZhbCIsImFib3V0VmFsIiwiaWRWYWwiLCJmaWxsVXNlckZvcm0iLCJmb3JtVmFscyIsImluaXRpYWxVc2VyIiwiaW5pdGlhbENhcmRzIiwicHJvZmlsZUlkIiwiZm9ybVNlbGVjdG9yIiwiQXJyYXkiLCJmcm9tIiwidmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJwcmV2aWV3SW1hZ2VNb2RhbCIsIl9wcmV2aWV3SW1hZ2UiLCJfcHJldmlld1RleHQiLCJhbHQiLCJhdmF0YXJFZGl0TW9kYWwiLCJmb3JtVmFsdWVzIiwicHJvZmlsZUVkaXRNb2RhbCIsImNhcmRFZGl0TW9kYWwiLCJpbWFnZVVybCIsImNhcmREZWxldGVNb2RhbCIsIl8iLCJjYXJkSWQiLCJjYXJkRWxlbWVudCJdLCJzb3VyY2VSb290IjoiIn0=